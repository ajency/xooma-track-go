// Generated by CoffeeScript 1.7.1
var ProductChildView, homeView, homeViewChildView,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

ProductChildView = (function(_super) {
  __extends(ProductChildView, _super);

  function ProductChildView() {
    return ProductChildView.__super__.constructor.apply(this, arguments);
  }

  ProductChildView.prototype.tagName = 'div';

  ProductChildView.prototype.className = 'list-title';

  ProductChildView.prototype.template = '<h5 class="bold text-primary">{{name}}</h5> <h6>{{servings}} times a day <b> {{qty}} {{product_type}} </b></h6>';

  return ProductChildView;

})(Marionette.ItemView);

homeViewChildView = (function(_super) {
  __extends(homeViewChildView, _super);

  function homeViewChildView() {
    return homeViewChildView.__super__.constructor.apply(this, arguments);
  }

  homeViewChildView.prototype.tagName = 'li';

  homeViewChildView.prototype.className = 'productlist';

  homeViewChildView.prototype.template = '<b class="text-success">{{type}}</b>';

  homeViewChildView.prototype.childView = ProductChildView;

  homeViewChildView.prototype.initialize = function() {
    var products;
    products = this.model.get('products');
    return this.collection = new Backbone.Collection(products);
  };

  return homeViewChildView;

})(Marionette.CompositeView);

homeView = (function(_super) {
  __extends(homeView, _super);

  function homeView() {
    return homeView.__super__.constructor.apply(this, arguments);
  }

  homeView.prototype["class"] = 'animated fadeIn';

  homeView.prototype.template = '#produts-template';

  homeView.prototype.childView = homeViewChildView;

  homeView.prototype.childViewContainer = 'ul.userProductList';

  return homeView;

})(Marionette.CompositeView);

App.HomeCtrl = (function(_super) {
  __extends(HomeCtrl, _super);

  function HomeCtrl() {
    this._showView = __bind(this._showView, this);
    return HomeCtrl.__super__.constructor.apply(this, arguments);
  }

  HomeCtrl.prototype.initialize = function() {
    return App.currentUser.getUserProducts().done(this._showView).fail(this.errorHandler);
  };

  HomeCtrl.prototype._showView = function(collection) {
    var productcollection;
    productcollection = new Backbone.Collection(collection);
    return this.show(new homeView({
      collection: productcollection
    }));
  };

  return HomeCtrl;

})(Ajency.RegionController);
