// Generated by CoffeeScript 1.7.1
var currentUserTemplate,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

currentUserTemplate = '<div data-placement="bottom" data-toggle="popover" title="{{display_name}}" ><img class="media-object dp img-rounded" src="{{profile_picture.sizes.thumbnail.url}}" style="width: 30px;height:30px;"></div> <div class="hidden popover-content"> <div class="text-center"> <img class="media-object dp img-rounded" src="{{profile_picture.sizes.thumbnail.url}}" style="width: 100px;height:100px;"> <button class="btn btn-small logout-button" >Logout</button> </div> </div>';

Ajency.CurrentUserView = (function(_super) {
  __extends(CurrentUserView, _super);

  function CurrentUserView() {
    return CurrentUserView.__super__.constructor.apply(this, arguments);
  }

  CurrentUserView.prototype.template = Handlebars.compile(currentUserTemplate);

  CurrentUserView.prototype.modelEvents = {
    'change': 'render'
  };

  CurrentUserView.prototype.ui = {
    'logoutButton': '.logout-button'
  };

  CurrentUserView.prototype.events = {
    'click @ui.logoutButton': 'logoutApp'
  };

  CurrentUserView.prototype.logoutApp = function() {
    return currentUser.logout();
  };

  CurrentUserView.prototype.onRender = function() {
    var _content;
    _content = this.$el.find('.popover-content').html();
    return this.$el.find('[data-toggle="popover"]').popover({
      html: true,
      content: _content
    });
  };

  return CurrentUserView;

})(Marionette.ItemView);
