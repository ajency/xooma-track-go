var tooltipOptions={showDelay:100,hideDelay:300,effect:"fade",duration:200,relativeTo:"element",position:1,smartPosition:!0,offsetX:0,offsetY:0,maxWidth:400,calloutSize:9,calloutPosition:.3,cssClass:"",sticky:!1,overlay:!1,license:"64628"},tooltip=function(L){var i="length",Gb="addEventListener",ab,hc,Ob=function(){},qb=function(a,b,c){a[Gb]?a[Gb](b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},a={},O=function(a){a&&a.stopPropagation?a.stopPropagation():a&&"undefined"!=typeof a.cancelBubble&&(a.cancelBubble=!0)},gc=function(a){var b=a?a:window.event;b.preventDefault?b.preventDefault():b&&(b.returnValue=!1)},Zb=function(a){var b=a.childNodes,c=[];if(b)for(var d=0,e=b[i];e>d;d++)1==b[d].nodeType&&c.push(b[d]);return c},Y={a:0,b:0},g=null,dc=function(a){a||(a=window.event),Y.a=a.clientX,Y.b=a.clientY},bc=function(a){return a.currentStyle?a.currentStyle:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,""):a.style},v="offsetLeft",w="offsetTop",pb="clientWidth",ob="clientHeight",A="appendChild",Nb="display",t="border",G="opacity",T=0,M="createElement",lb="getElementsByTagName",D="parentNode",fb="calloutSize",Q="position",Hb="calloutPosition",m=Math.round,ib="overlay",F="sticky",V="hideDelay",cb="onmouseout",ub="onclick",Kb=function(){this.a=[],this.b=null},N="firstChild",xb=0,z=document,U="getElementById",W=navigator,P="innerHTML",o=function(a,b){return b?z[a](b):z[a]},Ib=function(){var a,b=50,c=W.userAgent;return-1!=(a=c.indexOf("MSIE "))&&(b=parseInt(c.substring(a+5,c.indexOf(".",a)))),b},wb=Ib()<9,Ab=!!W.msMaxTouchPoints,mb=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),Lb=(W.msPointerEnabled||W.pointerEnabled)&&Ab;if(Lb)var Wb=W.msPointerEnabled?"onmspointerout":"onpointerOut";var Rb=function(a){return a.pointerType==a.MSPOINTER_TYPE_MOUSE||"mouse"==a.pointerType},C="marginTop",gb="marginLeft",r="offsetWidth",u="offsetHeight",vb="documentElement",rb="borderColor",sb="nextSibling",b="style",H="width",y="left",s="top",S="height",fc=["$1$2$3","$1$2$3","$1$24","$1$23","$1$22"],x,nb,B=function(a,b,c){return setTimeout(a,b?b.showDelay:c)},bb=function(a){return clearTimeout(a),null};Kb.prototype={d:{b:Ob,c:function(a){return-Math.cos(a*Math.PI)/2+.5}},e:function(a,b,c,d){for(var e,f=[],g=c-b,h=Math.ceil((l.duration||9)/15),i=1;h>=i;i++)e=b+d.c(i/h)*g,f.push(e);return f.d=0,f},f:function(){null==this.b&&this.g()},g:function(){this.h();var a=this;this.b=setInterval(function(){a.h()},15)},h:function(){var a=this.a[i];if(a){for(var b=0;a>b;b++)this.i(this.a[b]);for(;a--;){var c=this.a[a];c.c.d==c.c[i]&&(c.d(),this.a.splice(a,1))}}else clearInterval(this.b),this.b=null},i:function(a){if(a.c.d<a.c[i]){var c=a.b,d=a.c[a.c.d];a.b==G?(a.a.op=d,wb&&(c="filter",d="alpha(opacity="+m(100*d)+")")):d+="px",a.a[b][c]=d,a.c.d++}},j:function(a,b,c,d,e){e=this.k(this.d,e);var f=this.e(b,c,d,e);this.a.push({a:a,b:b,c:f,d:e.b}),this.f()},k:function(a,b){b=b||{};var c,d={};for(c in a)d[c]=void 0!==b[c]?b[c]:a[c];return d}};var hb=new Kb,h=function(a,b,c,d,e){hb.j(a,b,c,d,e)},ec=[/(?:.*\.)?(\w)([\w\-])[^.]*(\w)\.[^.]+$/,/.*([\w\-])\.(\w)(\w)\.[^.]+$/,/^(?:.*\.)?(\w)(\w)\.[^.]+$/,/.*([\w\-])([\w\-])\.com\.[^.]+$/,/^(\w)[^.]*(\w)$/],jb=function(a,b){var c=[];if(xb)return xb;for(var d=0;d<a[i];d++)c[c[i]]=String.fromCharCode(a.charCodeAt(d)-(b&&b>7?b:3));return c.join("")},Pb=function(a){return a.replace(/(?:.*\.)?(\w)([\w\-])?[^.]*(\w)\.[^.]*$/,"$1$3$2")},Tb=function(a,b){var c=function(a){for(var b=a.substr(0,a[i]-1),c=a.substr(a[i]-1,1),d="",e=0;e<b[i];e++)d+=b.charCodeAt(e)-c;return unescape(d)},d=Pb(z.domain)+Math.random(),e=c(d);if(nb="%66%75%6E%63%74%69%6F%6E%20%71%51%28%73%2C%6B%29%7B%76%61%72%20%72%3D%27%27%3B%66%6F%72%28%76%61%72%20%69%",39==e[i])try{d=new Function("$","_",jb(nb)).apply(this,[e,b]),nb=d}catch(f){}},cc=function(a,b){var c=function(a){var b=a.charCodeAt(0).toString();return b.substring(b[i]-1)};return a+c(b[parseInt(jb("4"))])+b[2]+c(b[0])},d,c,e,X,f,k,I=0,l,R=null,E=null,db=function(){null!=R&&(R=bb(R))},q=function(){null!=E&&(E=bb(E))},eb=function(a,c){a&&(a.op=c,wb?a[b].filter="alpha(opacity="+100*c+")":a[b][G]=c)},Qb=function(a,b,c,d,e,f,g,h){var i=c>=a,j=d>=b,k=i?e>c-a:g>a-c,l=j?f>d-b:h>b-d,m=k?c-a:i?e:-g,n=l?d-b:j?f:-h;return k&&l&&(Math.abs(m)>Math.abs(n)?m=i?e:-g:n=j?f:-h),[m,n]},ac=function(a,d,f){Z(c,1);var g=o(M,"div");if(g[b][H]=a+"px",e=o(M,"div"),e.className="mcTooltipInner",1==f){e[P]=d;var h=1}else{var j=o(U,d);j[D].w?e=j[D]:(e.w=j[D],e[A](j),h=1)}if(wb)for(var k=e[lb]("select"),l=k[i];l--;)k[l][cb]=O;if(g[A](e),c[A](g),e[r]<20){var m=c.className;c.className=""}return e[b][H]=e[r]+(h?1:0)+"px",e[b][S]=e[u]+(h?1:0)+"px",e[b][y]=e[b][s]="auto",e=c.insertBefore(e,c[N]),e[b][Q]="absolute",g=c.removeChild(g),g=null,delete g,m&&(c.className=m),e},Sb=function(a){a.w?(a.w[A](a),eb(a,1)):(a=a[D].removeChild(a),a=null,delete a)},Z=function(a,b){for(var c=b;c<a.childNodes[i];c++)Sb(a.childNodes[c])},j=function(a,c){a[b][Nb]=c?"block":"none"},Vb=function(){d.v=T=0,j(X,0),j(d,0),j(f,0),j(I,0),Z(c,0)},n=null,Yb={a:function(d,b,a){var e=null,f=null,h=null,c="html";a&&(f=a.success||null,c=a.responseType||"html",e=a.context&&f?a.context:null,h=a.fail||null),n=this.b(),n.onreadystatechange=function(){if(n&&4===n.readyState){if(q(),200===n.status){if(l==d&&R){q();var j="xml"==c.toLowerCase()?n.responseXML:n.responseText,k=j;if("json"==c.toLowerCase()&&(k=eval("("+j+")")),"html"==c){var p=b.match(/.+#([^?]+)/);if(p){var s=function(a,b){var c=null;if(b.id==a)return b;for(var d=b[lb]("*"),e=0,f=d[i];f>e;e++)if(d[e].id==a){c=d[e];break}return c},o=z[M]("div");o[P]=j;var m=s(p[1],o);m&&(j=k=m[P]),o=null}if(!m){var r=j.split(/<\/?body[^>]*>/i);r[i]>1&&(j=k=r[1])}}f&&(j=a.success(k,e)),g.f(d,j,1)}}else h?g.f(d,h(e),1):g.f(d,"Failed to get data.",1);n=null}},-1!=b.indexOf("#")&&Ib()<19&&(b=b.replace("#","?#")),n.open("GET",b,!0),n.send(null)},b:function(){var a;try{a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(b){throw new Error("AJAX not supported.")}return a}},Mb=function(){d=o(M,"div"),d.id="mcTooltipWrapper",d[P]='<div id="mcTooltip"><div>&nbsp;</div></div><div id="mcttCo"><em></em><b></b></div><div id="mcttCloseButton"></div>',x=z.body,k=x,k[A](d),a.a=L.license||"4321",c=d[N],d.b=d.c=d.v=0,Tb(d,a.a),X=d.lastChild,f=c[sb],j(d,1),this.m(L,1),j(d,0);var e=this.k();ab=function(a){q(),e.i(),O(a)},X[ub]=ab,this.l(),I[ub]=function(a){1!==l[ib]?ab(a):O(a)},c[cb]=function(){1!=R&&db(),!l[F]&&e.a(l[V])},c[ub]=O,qb(z,"click",function(a){l&&1!==l[F]&&(E=B(function(){ab(a)},0,l[V]+100))}),eb(d,0),d[b].visibility="visible"},Db=function(a){if(a[D]){var b=a[D].nodeName.toLowerCase();return"form"!=b&&"body"!=b?Db(a[D]):a[D]}return x},p=function(a,b){var c=a.getBoundingClientRect();return b?c[s]:c[y]},J=function(a){return a?z[vb][ob]:z[vb][pb]},Xb=function(){var a=z[vb];return[window.pageXOffset||a.scrollLeft,window.pageYOffset||a.scrollTop]},Ub=function(a,b,c,d){var e=J(0),f=J(1),g=0,h=0;return k!=x&&(g=p(k,0)-k[v],h=p(k,1)-k[w]),c+g+a>e&&(c=e-a-g),0>c+g&&(c=-g),d+h+b>f&&(d=f-b-h),0>d+h&&(d=-h),{l:c,t:d}};Mb.prototype={j:function(){var c=f[N],d=f.lastChild;c[b].margin=d[b].margin=f[b].margin=c[b][t]=d[b][t]="0";var e=a.f,g=2*e+"px",h=a.b+e+"px",i=a.b+"px",k="",l="",m="";switch(c[b][rb]=a.d,d[b][rb]=a.c,/rgba\(/.test(a.c)?(c[b][rb]=a.c,j(d,0)):j(d,1),a.e){case 0:case 2:k="Left",l="Right",f[b][H]=g,f[b][S]=h,d[b][gb]=d[b].marginRight="auto";break;case 3:default:k="Top",l="Bottom",f[b][H]=h,f[b][S]=g}switch(a.e){case 0:m="Top",f[b][C]="-"+i,c[b][C]=i,d[b][C]="-"+h;break;case 2:m="Bottom",f[b][C]=i,c[b][C]="-"+i,d[b][C]=-(e-a.b)+"px";break;case 3:m="Left",f[b][gb]="-"+i,c[b][gb]=i,d[b][C]="-"+g;break;default:m="Right",f[b].marginRight="-"+i,d[b][C]="-"+g,d[b][gb]=i}c[b][t+k]=c[b][t+l]=d[b][t+k]=d[b][t+l]="dashed "+e+"px transparent",c[b][t+m+"Style"]=d[b][t+m+"Style"]="solid",c[b][t+m+"Width"]=d[b][t+m+"Width"]=e+"px"},d:function(a,b,c){db(),q(),E=B(function(){(1!=T||a!=d.v)&&g.f(a,b,c)},a)},e:function(a,b,c){db(),q(),E=B(function(){g.g(a,b,c)},a)},f:function(g,i,k){j(d,1),T=1,q(),hb.a=[],j(I,g[ib]),j(X,g[F]),mb&&j(X,1);var l=this.n(g,i,k);if(d.v)h(d,y,d[v],l.l),h(d,s,d[w],l.t),h(c,H,c.b,c.tw),h(c,S,c.c,c.th),h(f,y,f[v],l.x),h(f,s,f[w],l.y);else if(4==a.e){var m=p(g,0),n=p(g,1);h(d,y,m,l.l),h(d,s,n,l.t),h(c,H,g[r],c.tw),h(c,S,g[u],c.th)}else a.e>4?h(d,s,l.t+6,l.t):d[b][s]=l.t+"px",d[b][y]=l.l+"px",c[b][H]=c.tw+"px",c[b][S]=c.th+"px",f[b][y]=l.x+"px",f[b][s]=l.y+"px";if("slide"==g.effect){var o,t;if(!d.v&&a.e<4){switch(a.e){case 0:o=0,t=1;break;case 1:o=-1,t=0;break;case 2:o=0,t=-1;break;case 3:o=1,t=0}var x=[o*e[r],t*e[u]]}else{!d.v&&a.e>3?(o=g[v],t=g[w]):(o=d[v],t=d[w],a.e>3&&(o+=d.v[v]-g[v],t+=d.v[w]-g[w]));var z=a.l+a.b+a.b,A=a.m+a.b+a.b;x=Qb(o,t,l.l,l.t,c.b+z,c.c+A,c.tw+z,c.th+A)}var B=a.l/2,C=a.m/2;h(e,y,x[0]+B,B),h(e,s,x[1]+C,C);var D=e[sb];D&&(h(D,y,B,-x[0]+B,{b:function(){Z(c,1)}}),h(D,s,C,-x[1]+C)),eb(e,1)}else{h(e,G,e.op-.1,1,{b:function(){Z(c,1)}});var D=e[sb];D&&h(D,G,D.op,0)}h(d,G,d.op,1),d.v=g},g:function(a,b,c){n=null,q(),E=B(function(){g.f(a,'<div id="tooltipAjaxSpin">&nbsp;</div>',1)},a),R=1,Yb.a(a,b,c)},a:function(a){q(),E=B(function(){g.i()},0,a)},i:function(){T=-1,db(),hb.a=[],h(d,G,d.op,0,{b:Vb})},l:function(){null==o(U,"mcOverlay")&&(I=o(M,"div"),I.id="mcOverlay",x[A](I),I[b][Q]="fixed")},m:function(g,h){var i=0;if((h||a.e!=g[Q]||a.f!=g[fb])&&(a.e=g[Q],a.f=g[fb],d[b].padding=a.f+"px",i=1),h||c.className!=g.cssClass){c.className=g.cssClass?g.cssClass.trim():"";var k=bc(c),l=parseInt(k.borderLeftWidth),m=k.backgroundColor,n=k.borderLeftColor;(h||a.b!=l||a.c!=m||a.d!=n)&&(a.b=l,a.c=m,a.d=n,i=1),a.l=h?c[pb]-c[N][r]:2*e[v],a.m=h?c[ob]-c[N][u]:2*e[w]}i&&(a.e<4?this.j():j(f,0))},k:function(){return new Function("a","b","c","d","e","f","g","h","i",function(a){var b=[];c.onmouseover=function(a){l[F]||(q(),-1==T&&(hb.a=[],h(d,G,d.op,1))),O(a)};for(var e=0,f=a[i];f>e;e++)b[b[i]]=String.fromCharCode(a.charCodeAt(e)-4);return b.join("")}("zev$pAi,k,g,+kvthpu+0405--+6+-?zev$qAe2e+55+0rAtevwiMrx,q2glevEx,4--0sA,,k,g,+kvthpu+0405--+px+-2vitpegi,h_r16a0l_r16a--2wtpmx,++-?mj,e2e%Aj,r/+8+0s--qAQexl_g,+yhukvt+-a,-?mj,q@259-wixXmqisyx,jyrgxmsr,-m,40g,+Ch'oylmD.o{{wA66~~~5tlu|jvvs5jvt6.E[vvs{pw'W|yjohzl'YltpuklyC6hE+-0tswmxmsr>:-?06444-?vixyvr$xlmw?")).apply(this,[a,N,jb,ec,Pb,cc,o,fc,kb])},n:function(b,g,h){var l=x;if(2==h)for(var m=o(U,g),n=m[lb]("*"),p=n[i];p--;)"submit"==n[p].type&&(l=Db(m));k!=l&&(k=l,k[A](d)),c.b=c[pb]-a.l,c.c=c[ob]-a.m,e=ac(b.maxWidth,g,h),this.m(b,0),c.tw=e[r],c.th=e[u],"fade"==b.effect&&eb(e,0);var q=c.tw+a.l+a.b+a.b,s=c.th+a.m+a.b+a.b,t=this.p(b,q,s);if(b.smartPosition)var v=Ub(q+a.f,s+a.f,t.x,t.y);else v={l:t.x,t:t.y};var w=b[Q],y=this.u(w,b[Hb],q,s);if(b.smartPosition&&4>w){var z=v.l-t.x,B=v.t-t.y;0==w||2==w?y[0]-=z:z&&j(f,0),1==w||3==w?y[1]-=B:B&&j(f,0)}if(k==x){var C=Xb();v.l=v.l+C[0],v.t=v.t+C[1]}return v.x=y[0],v.y=y[1],v},p:function(b,c,d){var e,f,g,h,j=b[Q],l=b[Hb];if(4>j)if(1!=b.nodeType)e=f=g=h=0;else if("mouse"==b.relativeTo)e=Y.a,f=Y.b,null==Y.a&&(e=p(b,0)+m(b[r]/2),f=p(b,1)+m(b[u]/2)),g=0,h=0;else{var n=b,o=Zb(b);o[i]&&(o=o[0],(o[r]>=b[r]||o[u]>=b[u])&&(n=o)),e=p(n,0),f=p(n,1),g=n[r],h=n[u]}var q=20,s=c+2*b[fb],t=d+2*b[fb];switch(j){case 0:e+=m(g/2-s*l),f-=t+q;break;case 2:e+=m(g/2-s*l),f+=h+q;break;case 3:e-=s+q,f+=m(h/2-t*l);break;case 4:e=m((J(0)-s)/2),f=m((J(1)-t)/2);break;case 5:e=f=0;break;case 6:e=J(0)-s-Math.ceil(a.l/2),f=J(1)-t-Math.ceil(a.m/2);break;case 1:default:e+=g+q,f+=m(h/2-t*l)}var y=0,z=0;return k!=x&&(y=k[v]-p(k,0),z=k[w]-p(k,1)),{x:e+y+b.offsetX,y:f+z+b.offsetY}},u:function(b,c,d,e){j(f,4>b);var g=[0,0];switch(b){case 0:g=[d*c,m(e+a.f)];break;case 1:g=[0,e*c];break;case 2:g=[d*c,0];break;case 3:g=[m(d+a.f),e*c]}return g}};var Eb=function(){if(null==g){if("undefined"!=typeof console&&"function"==typeof console.log){var a=console.log;console.log=function(){a.call(this,++xb,arguments)}}g=new Mb,a&&(console.log=a)}return l&&l.m&&-1!=d[P].indexOf(jb("kdvh#Uh"))&&(g.i=Ob),g},yb=function(a,b,c){c=c||{};var d;for(d in b)a[d]=void 0!==c[d]?c[d]:b[d]},tb=0,K,Jb=function(a){return a||(a=o(M,"div"),a.m=1,a[b][Nb]="none",x[A](a)),"string"==typeof a&&(a=o(U,a)),l=a,a},zb=function(a,b){return mb&&a.target==b?0:1},Bb=function(a,b){yb(a,L,b),(Ab||mb)&&(a.showDelay=1,a[V]=30),a[ib]&&(a[F]||(a[F]=a[ib])),qb(a,"click",O),a[F]?a[cb]=function(a){zb(a,this)&&q()}:Lb?a[Wb]=function(a){Rb(a)&&g.a(this[V])}:a[cb]=function(a){zb(a,this)&&g.a(this[V])},"mouse"==a.relativeTo&&(a.onmousemove=dc),a.set=1},kb=function(a,b,c){a=Jb(a);var d=0;if("#"==b.charAt(0)){d=b[i]>2&&"#"==b.charAt(1)?2:1;var e=b.substring(d),f=o(U,e);f?2==d&&(b=f[P]):d=-1}a&&g&&-1!=d?(K=bb(K),!a.set&&Bb(a,c),1==d?g.d(a,e,2):g.d(a,b,1)):++tb<40&&(K=B(function(){kb(a,b,c)},0,90))},Cb=function(a,b,c,d){a=Jb(a),a&&g?(K=bb(K),!a.set&&Bb(a,d),g.e(a,b,c)):++tb<40&&(K=B(function(){Cb(a,b,c,d)},0,90))};qb(window,"load",Eb);var Fb=function(a){++tb<20&&(g?(yb(L,L,a),j(d,1),g.m(L,0),j(d,0)):B(function(){Fb(a)},0,90))};return{changeOptions:function(a){Fb(a)},pop:function(a,b,c){kb(a,b,c)},ajax:function(a,b,c,d){Cb(a,b,c,d)},hide:function(){var a=Eb();a.i()}}}(tooltipOptions);!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=window.Slick||{};b=function(){function b(b,d){var e,f,g,h=this;if(h.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(b),appendDots:a(b),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(a,b){return'<button type="button" data-role="none">'+(b+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},h.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},a.extend(h,h.initials),h.activeBreakpoint=null,h.animType=null,h.animProp=null,h.breakpoints=[],h.breakpointSettings=[],h.cssTransitions=!1,h.hidden="hidden",h.paused=!1,h.positionProp=null,h.respondTo=null,h.shouldClick=!0,h.$slider=a(b),h.$slidesCache=null,h.transformType=null,h.transitionType=null,h.visibilityChange="visibilitychange",h.windowWidth=0,h.windowTimer=null,e=a(b).data("slick")||{},h.options=a.extend({},h.defaults,e,d),h.currentSlide=h.options.initialSlide,h.originalSettings=h.options,f=h.options.responsive||null,f&&f.length>-1){h.respondTo=h.options.respondTo||"window";for(g in f)f.hasOwnProperty(g)&&(h.breakpoints.push(f[g].breakpoint),h.breakpointSettings[f[g].breakpoint]=f[g].settings);h.breakpoints.sort(function(a,b){return h.options.mobileFirst===!0?a-b:b-a})}"undefined"!=typeof document.mozHidden?(h.hidden="mozHidden",h.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(h.hidden="msHidden",h.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(h.hidden="webkitHidden",h.visibilityChange="webkitvisibilitychange"),h.autoPlay=a.proxy(h.autoPlay,h),h.autoPlayClear=a.proxy(h.autoPlayClear,h),h.changeSlide=a.proxy(h.changeSlide,h),h.clickHandler=a.proxy(h.clickHandler,h),h.selectHandler=a.proxy(h.selectHandler,h),h.setPosition=a.proxy(h.setPosition,h),h.swipeHandler=a.proxy(h.swipeHandler,h),h.dragHandler=a.proxy(h.dragHandler,h),h.keyHandler=a.proxy(h.keyHandler,h),h.autoPlayIterator=a.proxy(h.autoPlayIterator,h),h.instanceUid=c++,h.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,h.init(),h.checkResponsive()}var c=0;return b}(),b.prototype.addSlide=b.prototype.slickAdd=function(b,c,d){var e=this;if("boolean"==typeof c)d=c,c=null;else if(0>c||c>=e.slideCount)return!1;e.unload(),"number"==typeof c?0===c&&0===e.$slides.length?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):d===!0?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.animate({height:b},a.options.speed)}},b.prototype.animateSlide=function(b,c){var d={},e=this;e.animateHeight(),e.options.rtl===!0&&e.options.vertical===!1&&(b=-b),e.transformsEnabled===!1?e.options.vertical===!1?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):e.cssTransitions===!1?(e.options.rtl===!0&&(e.currentLeft=-e.currentLeft),a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){a=Math.ceil(a),e.options.vertical===!1?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}})):(e.applyTransition(),b=Math.ceil(b),d[e.animType]=e.options.vertical===!1?"translate3d("+b+"px, 0px, 0px)":"translate3d(0px,"+b+"px, 0px)",e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.asNavFor=function(b){var c=this,d=null!==c.options.asNavFor?a(c.options.asNavFor).slick("getSlick"):null;null!==d&&d.slideHandler(b,!0)},b.prototype.applyTransition=function(a){var b=this,c={};c[b.transitionType]=b.options.fade===!1?b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:"opacity "+b.options.speed+"ms "+b.options.cssEase,b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer),a.slideCount>a.options.slidesToShow&&a.paused!==!0&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this;a.options.infinite===!1?1===a.direction?(a.currentSlide+1===a.slideCount-1&&(a.direction=0),a.slideHandler(a.currentSlide+a.options.slidesToScroll)):(0===a.currentSlide-1&&(a.direction=1),a.slideHandler(a.currentSlide-a.options.slidesToScroll)):a.slideHandler(a.currentSlide+a.options.slidesToScroll)},b.prototype.buildArrows=function(){var b=this;b.options.arrows===!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow=a(b.options.prevArrow),b.$nextArrow=a(b.options.nextArrow),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.appendTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),b.options.infinite!==!0&&b.$prevArrow.addClass("slick-disabled"))},b.prototype.buildDots=function(){var b,c,d=this;if(d.options.dots===!0&&d.slideCount>d.options.slidesToShow){for(c='<ul class="'+d.options.dotsClass+'">',b=0;b<=d.getDotCount();b+=1)c+="<li>"+d.options.customPaging.call(this,d,b)+"</li>";c+="</ul>",d.$dots=a(c).appendTo(d.options.appendDots),d.$dots.find("li").first().addClass("slick-active")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(b.options.slide+":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),b.$slidesCache=b.$slides,b.$slider.addClass("slick-slider"),b.$slideTrack=0===b.slideCount?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0),b.options.centerMode===!0&&(b.options.slidesToScroll=1),a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.options.accessibility===!0&&b.$list.prop("tabIndex",0),b.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),b.options.draggable===!0&&b.$list.addClass("draggable")},b.prototype.checkResponsive=function(){var b,c,d,e=this,f=e.$slider.width(),g=window.innerWidth||a(window).width();if("window"===e.respondTo?d=g:"slider"===e.respondTo?d=f:"min"===e.respondTo&&(d=Math.min(g,f)),e.originalSettings.responsive&&e.originalSettings.responsive.length>-1&&null!==e.originalSettings.responsive){c=null;for(b in e.breakpoints)e.breakpoints.hasOwnProperty(b)&&(e.originalSettings.mobileFirst===!1?d<e.breakpoints[b]&&(c=e.breakpoints[b]):d>e.breakpoints[b]&&(c=e.breakpoints[b]));null!==c?null!==e.activeBreakpoint?c!==e.activeBreakpoint&&(e.activeBreakpoint=c,"unslick"===e.breakpointSettings[c]?e.unslick():(e.options=a.extend({},e.originalSettings,e.breakpointSettings[c]),e.refresh())):(e.activeBreakpoint=c,"unslick"===e.breakpointSettings[c]?e.unslick():(e.options=a.extend({},e.originalSettings,e.breakpointSettings[c]),e.refresh())):null!==e.activeBreakpoint&&(e.activeBreakpoint=null,e.options=e.originalSettings,e.refresh())}},b.prototype.changeSlide=function(b,c){var d,e,f,g=this,h=a(b.target);switch(h.is("a")&&b.preventDefault(),f=0!==g.slideCount%g.options.slidesToScroll,d=f?0:(g.slideCount-g.currentSlide)%g.options.slidesToScroll,b.data.message){case"previous":e=0===d?g.options.slidesToScroll:g.options.slidesToShow-d,g.slideCount>g.options.slidesToShow&&g.slideHandler(g.currentSlide-e,!1,c);break;case"next":e=0===d?g.options.slidesToScroll:d,g.slideCount>g.options.slidesToShow&&g.slideHandler(g.currentSlide+e,!1,c);break;case"index":var i=0===b.data.index?0:b.data.index||a(b.target).parent().index()*g.options.slidesToScroll;g.slideHandler(g.checkNavigable(i),!1,c);break;default:return}},b.prototype.checkNavigable=function(a){var b,c,d=this;if(b=d.getNavigableIndexes(),c=0,a>b[b.length-1])a=b[b.length-1];else for(var e in b){if(a<b[e]){a=c;break}c=b[e]}return a},b.prototype.clickHandler=function(a){var b=this;b.shouldClick===!1&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(){var b=this;b.autoPlayClear(),b.touchObject={},a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&"object"!=typeof b.options.prevArrow&&b.$prevArrow.remove(),b.$nextArrow&&"object"!=typeof b.options.nextArrow&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),b.$slider.removeClass("slick-slider"),b.$slider.removeClass("slick-initialized"),b.$list.off(".slick"),a(window).off(".slick-"+b.instanceUid),a(document).off(".slick-"+b.instanceUid),b.$slider.html(b.$slides)},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b){var c=this;c.cssTransitions===!1?(c.$slides.eq(a).css({zIndex:1e3}),c.$slides.eq(a).animate({opacity:1},c.options.speed,c.options.easing,b)):(c.applyTransition(a),c.$slides.eq(a).css({opacity:1,zIndex:1e3}),b&&setTimeout(function(){c.disableTransition(a),b.call()},c.options.speed))},b.prototype.filterSlides=b.prototype.slickFilter=function(a){var b=this;null!==a&&(b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){var a=this;return a.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(a.options.infinite===!0)d=Math.ceil(a.slideCount/a.options.slidesToScroll);else if(a.options.centerMode===!0)d=a.slideCount;else for(;b<a.slideCount;)++d,b=c+a.options.slidesToShow,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d-1},b.prototype.getLeft=function(a){var b,c,d,e=this,f=0;return e.slideOffset=0,c=e.$slides.first().outerHeight(),e.options.infinite===!0?(e.slideCount>e.options.slidesToShow&&(e.slideOffset=-1*e.slideWidth*e.options.slidesToShow,f=-1*c*e.options.slidesToShow),0!==e.slideCount%e.options.slidesToScroll&&a+e.options.slidesToScroll>e.slideCount&&e.slideCount>e.options.slidesToShow&&(a>e.slideCount?(e.slideOffset=-1*(e.options.slidesToShow-(a-e.slideCount))*e.slideWidth,f=-1*(e.options.slidesToShow-(a-e.slideCount))*c):(e.slideOffset=-1*e.slideCount%e.options.slidesToScroll*e.slideWidth,f=-1*e.slideCount%e.options.slidesToScroll*c))):a+e.options.slidesToShow>e.slideCount&&(e.slideOffset=(a+e.options.slidesToShow-e.slideCount)*e.slideWidth,f=(a+e.options.slidesToShow-e.slideCount)*c),e.slideCount<=e.options.slidesToShow&&(e.slideOffset=0,f=0),e.options.centerMode===!0&&e.options.infinite===!0?e.slideOffset+=e.slideWidth*Math.floor(e.options.slidesToShow/2)-e.slideWidth:e.options.centerMode===!0&&(e.slideOffset=0,e.slideOffset+=e.slideWidth*Math.floor(e.options.slidesToShow/2)),b=e.options.vertical===!1?-1*a*e.slideWidth+e.slideOffset:-1*a*c+f,e.options.variableWidth===!0&&(d=e.$slideTrack.children(".slick-slide").eq(e.slideCount<=e.options.slidesToShow||e.options.infinite===!1?a:a+e.options.slidesToShow),b=d[0]?-1*d[0].offsetLeft:0,e.options.centerMode===!0&&(d=e.$slideTrack.children(".slick-slide").eq(e.options.infinite===!1?a:a+e.options.slidesToShow+1),b=d[0]?-1*d[0].offsetLeft:0,b+=(e.$list.width()-d.outerWidth())/2)),b},b.prototype.getOption=b.prototype.slickGetOption=function(a){var b=this;return b.options[a]},b.prototype.getNavigableIndexes=function(){var a=this,b=0,c=0,d=[],e=a.options.infinite===!1?a.slideCount-a.options.slidesToShow+1:a.slideCount;for(a.options.centerMode===!0&&(e=a.slideCount);e>b;)d.push(b),b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d},b.prototype.getSlick=function(){return this},b.prototype.getSlideCount=function(){var b,c,d,e=this;return d=e.options.centerMode===!0?e.slideWidth*Math.floor(e.options.slidesToShow/2):0,e.options.swipeToSlide===!0?(e.$slideTrack.find(".slick-slide").each(function(b,f){return f.offsetLeft-d+a(f).outerWidth()/2>-1*e.swipeLeft?(c=f,!1):void 0}),b=Math.abs(a(c).attr("data-slick-index")-e.currentSlide)||1):e.options.slidesToScroll},b.prototype.goTo=b.prototype.slickGoTo=function(a,b){var c=this;c.changeSlide({data:{message:"index",index:parseInt(a)}},b)},b.prototype.init=function(){var b=this;a(b.$slider).hasClass("slick-initialized")||(a(b.$slider).addClass("slick-initialized"),b.buildOut(),b.setProps(),b.startLoad(),b.loadSlider(),b.initializeEvents(),b.updateArrows(),b.updateDots()),b.$slider.trigger("init",[b])},b.prototype.initArrowEvents=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.on("click.slick",{message:"next"},a.changeSlide))},b.prototype.initDotEvents=function(){var b=this;b.options.dots===!0&&b.slideCount>b.options.slidesToShow&&a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),b.options.dots===!0&&b.options.pauseOnDotsHover===!0&&b.options.autoplay===!0&&a("li",b.$dots).on("mouseenter.slick",function(){b.paused=!0,b.autoPlayClear()}).on("mouseleave.slick",function(){b.paused=!1,b.autoPlay()})},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),b.options.autoplay===!0&&(a(document).on(b.visibilityChange,function(){b.visibility()}),b.options.pauseOnHover===!0&&(b.$list.on("mouseenter.slick",function(){b.paused=!0,b.autoPlayClear()}),b.$list.on("mouseleave.slick",function(){b.paused=!1,b.autoPlay()}))),b.options.accessibility===!0&&b.$list.on("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.options.slide,b.$slideTrack).on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,function(){b.checkResponsive(),b.setPosition()}),a(window).on("resize.slick.slick-"+b.instanceUid,function(){a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.setPosition()},50))}),a("*[draggable!=true]",b.$slideTrack).on("dragstart",function(a){a.preventDefault()}),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).on("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.initUI=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.show(),a.options.autoplay===!0&&a.autoPlay()},b.prototype.keyHandler=function(a){var b=this;37===a.keyCode&&b.options.accessibility===!0?b.changeSlide({data:{message:"previous"}}):39===a.keyCode&&b.options.accessibility===!0&&b.changeSlide({data:{message:"next"}})},b.prototype.lazyLoad=function(){function b(b){a("img[data-lazy]",b).each(function(){var b=a(this),c=a(this).attr("data-lazy");b.load(function(){b.animate({opacity:1},200)}).css({opacity:0}).attr("src",c).removeAttr("data-lazy").removeClass("slick-loading")})}var c,d,e,f,g=this;g.options.centerMode===!0?g.options.infinite===!0?(e=g.currentSlide+(g.options.slidesToShow/2+1),f=e+g.options.slidesToShow+2):(e=Math.max(0,g.currentSlide-(g.options.slidesToShow/2+1)),f=2+(g.options.slidesToShow/2+1)+g.currentSlide):(e=g.options.infinite?g.options.slidesToShow+g.currentSlide:g.currentSlide,f=e+g.options.slidesToShow,g.options.fade===!0&&(e>0&&e--,f<=g.slideCount&&f++)),c=g.$slider.find(".slick-slide").slice(e,f),b(c),g.slideCount<=g.options.slidesToShow?(d=g.$slider.find(".slick-slide"),b(d)):g.currentSlide>=g.slideCount-g.options.slidesToShow?(d=g.$slider.find(".slick-cloned").slice(0,g.options.slidesToShow),b(d)):0===g.currentSlide&&(d=g.$slider.find(".slick-cloned").slice(-1*g.options.slidesToShow),b(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),"progressive"===a.options.lazyLoad&&a.progressiveLazyLoad()},b.prototype.next=b.prototype.slickNext=function(){var a=this;a.changeSlide({data:{message:"next"}})},b.prototype.pause=b.prototype.slickPause=function(){var a=this;a.autoPlayClear(),a.paused=!0},b.prototype.play=b.prototype.slickPlay=function(){var a=this;a.paused=!1,a.autoPlay()},b.prototype.postSlide=function(a){var b=this;b.$slider.trigger("afterChange",[b,a]),b.animating=!1,b.setPosition(),b.swipeLeft=null,b.options.autoplay===!0&&b.paused===!1&&b.autoPlay()},b.prototype.prev=b.prototype.slickPrev=function(){var a=this;a.changeSlide({data:{message:"previous"}})},b.prototype.progressiveLazyLoad=function(){var b,c,d=this;b=a("img[data-lazy]",d.$slider).length,b>0&&(c=a("img[data-lazy]",d.$slider).first(),c.attr("src",c.attr("data-lazy")).removeClass("slick-loading").load(function(){c.removeAttr("data-lazy"),d.progressiveLazyLoad()}).error(function(){c.removeAttr("data-lazy"),d.progressiveLazyLoad()
}))},b.prototype.refresh=function(){var b=this,c=b.currentSlide;b.destroy(),a.extend(b,b.initials),b.init(),b.changeSlide({data:{message:"index",index:c}},!0)},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&0!==b.currentSlide&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.options.focusOnSelect===!0&&a(b.options.slide,b.$slideTrack).on("click.slick",b.selectHandler),b.setSlideClasses(0),b.setPosition(),b.$slider.trigger("reInit",[b])},b.prototype.removeSlide=b.prototype.slickRemove=function(a,b,c){var d=this;return"boolean"==typeof a?(b=a,a=b===!0?0:d.slideCount-1):a=b===!0?--a:a,d.slideCount<1||0>a||a>d.slideCount-1?!1:(d.unload(),c===!0?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,void d.reinit())},b.prototype.setCSS=function(a){var b,c,d=this,e={};d.options.rtl===!0&&(a=-a),b="left"==d.positionProp?Math.ceil(a)+"px":"0px",c="top"==d.positionProp?Math.ceil(a)+"px":"0px",e[d.positionProp]=a,d.transformsEnabled===!1?d.$slideTrack.css(e):(e={},d.cssTransitions===!1?(e[d.animType]="translate("+b+", "+c+")",d.$slideTrack.css(e)):(e[d.animType]="translate3d("+b+", "+c+", 0px)",d.$slideTrack.css(e)))},b.prototype.setDimensions=function(){var a=this;if(a.options.vertical===!1?a.options.centerMode===!0&&a.$list.css({padding:"0px "+a.options.centerPadding}):(a.$list.height(a.$slides.first().outerHeight(!0)*a.options.slidesToShow),a.options.centerMode===!0&&a.$list.css({padding:a.options.centerPadding+" 0px"})),a.listWidth=a.$list.width(),a.listHeight=a.$list.height(),a.options.vertical===!1&&a.options.variableWidth===!1)a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.width(Math.ceil(a.slideWidth*a.$slideTrack.children(".slick-slide").length));else if(a.options.variableWidth===!0){var b=0;a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.children(".slick-slide").each(function(){b+=a.listWidth}),a.$slideTrack.width(Math.ceil(b)+1)}else a.slideWidth=Math.ceil(a.listWidth),a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0)*a.$slideTrack.children(".slick-slide").length));var c=a.$slides.first().outerWidth(!0)-a.$slides.first().width();a.options.variableWidth===!1&&a.$slideTrack.children(".slick-slide").width(a.slideWidth-c)},b.prototype.setFade=function(){var b,c=this;c.$slides.each(function(d,e){b=-1*c.slideWidth*d,a(e).css(c.options.rtl===!0?{position:"relative",right:b,top:0,zIndex:800,opacity:0}:{position:"relative",left:b,top:0,zIndex:800,opacity:0})}),c.$slides.eq(c.currentSlide).css({zIndex:900,opacity:1})},b.prototype.setHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setOption=b.prototype.slickSetOption=function(a,b,c){var d=this;d.options[a]=b,c===!0&&(d.unload(),d.reinit())},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),a.options.fade===!1?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),a.$slider.trigger("setPosition",[a])},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=a.options.vertical===!0?"top":"left","top"===a.positionProp?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),(void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.msTransition)&&a.options.useCSS===!0&&(a.cssTransitions=!0),void 0!==b.OTransform&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.MozTransform&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",void 0===b.perspectiveProperty&&void 0===b.MozPerspective&&(a.animType=!1)),void 0!==b.webkitTransform&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.msTransform&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",void 0===b.msTransform&&(a.animType=!1)),void 0!==b.transform&&a.animType!==!1&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=null!==a.animType&&a.animType!==!1},b.prototype.setSlideClasses=function(a){var b,c,d,e,f=this;f.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),c=f.$slider.find(".slick-slide"),f.options.centerMode===!0?(b=Math.floor(f.options.slidesToShow/2),f.options.infinite===!0&&(a>=b&&a<=f.slideCount-1-b?f.$slides.slice(a-b,a+b+1).addClass("slick-active"):(d=f.options.slidesToShow+a,c.slice(d-b+1,d+b+2).addClass("slick-active")),0===a?c.eq(c.length-1-f.options.slidesToShow).addClass("slick-center"):a===f.slideCount-1&&c.eq(f.options.slidesToShow).addClass("slick-center")),f.$slides.eq(a).addClass("slick-center")):a>=0&&a<=f.slideCount-f.options.slidesToShow?f.$slides.slice(a,a+f.options.slidesToShow).addClass("slick-active"):c.length<=f.options.slidesToShow?c.addClass("slick-active"):(e=f.slideCount%f.options.slidesToShow,d=f.options.infinite===!0?f.options.slidesToShow+a:a,f.options.slidesToShow==f.options.slidesToScroll&&f.slideCount-a<f.options.slidesToShow?c.slice(d-(f.options.slidesToShow-e),d+e).addClass("slick-active"):c.slice(d,d+f.options.slidesToShow).addClass("slick-active")),"ondemand"===f.options.lazyLoad&&f.lazyLoad()},b.prototype.setupInfinite=function(){var b,c,d,e=this;if(e.options.fade===!0&&(e.options.centerMode=!1),e.options.infinite===!0&&e.options.fade===!1&&(c=null,e.slideCount>e.options.slidesToShow)){for(d=e.options.centerMode===!0?e.options.slidesToShow+1:e.options.slidesToShow,b=e.slideCount;b>e.slideCount-d;b-=1)c=b-1,a(e.$slides[c]).clone(!0).attr("id","").attr("data-slick-index",c-e.slideCount).prependTo(e.$slideTrack).addClass("slick-cloned");for(b=0;d>b;b+=1)c=b,a(e.$slides[c]).clone(!0).attr("id","").attr("data-slick-index",c+e.slideCount).appendTo(e.$slideTrack).addClass("slick-cloned");e.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},b.prototype.selectHandler=function(b){var c=this,d=parseInt(a(b.target).parents(".slick-slide").attr("data-slick-index"));return d||(d=0),c.slideCount<=c.options.slidesToShow?(c.$slider.find(".slick-slide").removeClass("slick-active"),c.$slides.eq(d).addClass("slick-active"),c.options.centerMode===!0&&(c.$slider.find(".slick-slide").removeClass("slick-center"),c.$slides.eq(d).addClass("slick-center")),void c.asNavFor(d)):void c.slideHandler(d)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,h=null,i=this;return b=b||!1,i.animating===!0&&i.options.waitForAnimate===!0||i.options.fade===!0&&i.currentSlide===a||i.slideCount<=i.options.slidesToShow?void 0:(b===!1&&i.asNavFor(a),d=a,h=i.getLeft(d),g=i.getLeft(i.currentSlide),i.currentLeft=null===i.swipeLeft?g:i.swipeLeft,i.options.infinite===!1&&i.options.centerMode===!1&&(0>a||a>i.getDotCount()*i.options.slidesToScroll)?void(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d))):i.options.infinite===!1&&i.options.centerMode===!0&&(0>a||a>i.slideCount-i.options.slidesToScroll)?void(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d))):(i.options.autoplay===!0&&clearInterval(i.autoPlayTimer),e=0>d?0!==i.slideCount%i.options.slidesToScroll?i.slideCount-i.slideCount%i.options.slidesToScroll:i.slideCount+d:d>=i.slideCount?0!==i.slideCount%i.options.slidesToScroll?0:d-i.slideCount:d,i.animating=!0,i.$slider.trigger("beforeChange",[i,i.currentSlide,e]),f=i.currentSlide,i.currentSlide=e,i.setSlideClasses(i.currentSlide),i.updateDots(),i.updateArrows(),i.options.fade===!0?(c!==!0?i.fadeSlide(e,function(){i.postSlide(e)}):i.postSlide(e),void i.animateHeight()):void(c!==!0?i.animateSlide(h,function(){i.postSlide(e)}):i.postSlide(e))))},b.prototype.startLoad=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),0>d&&(d=360-Math.abs(d)),45>=d&&d>=0?e.options.rtl===!1?"left":"right":360>=d&&d>=315?e.options.rtl===!1?"left":"right":d>=135&&225>=d?e.options.rtl===!1?"right":"left":"vertical"},b.prototype.swipeEnd=function(){var a,b=this;if(b.dragging=!1,b.shouldClick=b.touchObject.swipeLength>10?!1:!0,void 0===b.touchObject.curX)return!1;if(b.touchObject.edgeHit===!0&&b.$slider.trigger("edge",[b,b.swipeDirection()]),b.touchObject.swipeLength>=b.touchObject.minSwipe)switch(b.swipeDirection()){case"left":a=b.options.swipeToSlide?b.checkNavigable(b.currentSlide+b.getSlideCount()):b.currentSlide+b.getSlideCount(),b.slideHandler(a),b.currentDirection=0,b.touchObject={},b.$slider.trigger("swipe",[b,"left"]);break;case"right":a=b.options.swipeToSlide?b.checkNavigable(b.currentSlide-b.getSlideCount()):b.currentSlide-b.getSlideCount(),b.slideHandler(a),b.currentDirection=1,b.touchObject={},b.$slider.trigger("swipe",[b,"right"])}else b.touchObject.startX!==b.touchObject.curX&&(b.slideHandler(b.currentSlide),b.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(!(b.options.swipe===!1||"ontouchend"in document&&b.options.swipe===!1||b.options.draggable===!1&&-1!==a.type.indexOf("mouse")))switch(b.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var b,c,d,e,f,g=this;return f=void 0!==a.originalEvent?a.originalEvent.touches:null,!g.dragging||f&&1!==f.length?!1:(b=g.getLeft(g.currentSlide),g.touchObject.curX=void 0!==f?f[0].pageX:a.clientX,g.touchObject.curY=void 0!==f?f[0].pageY:a.clientY,g.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(g.touchObject.curX-g.touchObject.startX,2))),c=g.swipeDirection(),"vertical"!==c?(void 0!==a.originalEvent&&g.touchObject.swipeLength>4&&a.preventDefault(),e=(g.options.rtl===!1?1:-1)*(g.touchObject.curX>g.touchObject.startX?1:-1),d=g.touchObject.swipeLength,g.touchObject.edgeHit=!1,g.options.infinite===!1&&(0===g.currentSlide&&"right"===c||g.currentSlide>=g.getDotCount()&&"left"===c)&&(d=g.touchObject.swipeLength*g.options.edgeFriction,g.touchObject.edgeHit=!0),g.swipeLeft=g.options.vertical===!1?b+d*e:b+d*(g.$list.height()/g.listWidth)*e,g.options.fade===!0||g.options.touchMove===!1?!1:g.animating===!0?(g.swipeLeft=null,!1):void g.setCSS(g.swipeLeft)):void 0)},b.prototype.swipeStart=function(a){var b,c=this;return 1!==c.touchObject.fingerCount||c.slideCount<=c.options.slidesToShow?(c.touchObject={},!1):(void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(b=a.originalEvent.touches[0]),c.touchObject.startX=c.touchObject.curX=void 0!==b?b.pageX:a.clientX,c.touchObject.startY=c.touchObject.curY=void 0!==b?b.pageY:a.clientY,void(c.dragging=!0))},b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var a=this;null!==a.$slidesCache&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&"object"!=typeof b.options.prevArrow&&b.$prevArrow.remove(),b.$nextArrow&&"object"!=typeof b.options.nextArrow&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},b.prototype.unslick=function(){var a=this;a.destroy()},b.prototype.updateArrows=function(){var a,b=this;a=Math.floor(b.options.slidesToShow/2),b.options.arrows===!0&&b.options.infinite!==!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow.removeClass("slick-disabled"),b.$nextArrow.removeClass("slick-disabled"),0===b.currentSlide?(b.$prevArrow.addClass("slick-disabled"),b.$nextArrow.removeClass("slick-disabled")):b.currentSlide>=b.slideCount-b.options.slidesToShow&&b.options.centerMode===!1?(b.$nextArrow.addClass("slick-disabled"),b.$prevArrow.removeClass("slick-disabled")):b.currentSlide>=b.slideCount-1&&b.options.centerMode===!0&&(b.$nextArrow.addClass("slick-disabled"),b.$prevArrow.removeClass("slick-disabled")))},b.prototype.updateDots=function(){var a=this;null!==a.$dots&&(a.$dots.find("li").removeClass("slick-active"),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active"))},b.prototype.visibility=function(){var a=this;document[a.hidden]?(a.paused=!0,a.autoPlayClear()):(a.paused=!1,a.autoPlay())},a.fn.slick=function(){var a,c=this,d=arguments[0],e=Array.prototype.slice.call(arguments,1),f=c.length,g=0;for(g;f>g;g++)if("object"==typeof d||"undefined"==typeof d?c[g].slick=new b(c[g],d):a=c[g].slick[d].apply(c[g].slick,e),"undefined"!=typeof a)return a;return c},a(function(){a("[data-slick]").slick()})});var __hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};App.LoginCtrl=Ajency.LoginCtrl,App.NothingFoundCtrl=Ajency.NothingFoundCtrl,Ajency.CurrentUserView.prototype.template="#current-user-template",Ajency.LoginView.prototype.template="#login-template",_.extend(Ajency.LoginView.prototype,{onShow:function(){return $(".single-item").slick({dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0},{autoplaySpeed:2e3})}}),Ajency.FormView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.behaviors={FormBehavior:{behaviorClass:Ajency.FormBehavior}},b}(Marionette.LayoutView),_.extend(Ajency.CurrentUser.prototype,{loginCheck:function(){var a;return a=function(){return function(){return console.log("aaaaaaaaa")}}(this),$.ajax({method:"POST",url:_SITEURL+"/wp-content/themes/twentytwelve/xooma-template.php?action=logout_user",success:a})},_getUrl:function(a){return""+APIURL+"/users/"+App.currentUser.get("ID")+"/"+a},saveMeasurements:function(a){var b,c;return b=$.param(a),c=function(b){return function(){return b.set("measurements",a),App.currentUser.set("weight",a.weight)}}(this),$.ajax({method:"POST",url:this._getUrl("measurements"),data:b,success:c})},getProfile:function(){var a,b;return a=Marionette.Deferred(),b=function(b){return function(c){return b.set("profile",c),a.resolve(b)}}(this),this.has("profile")?a.resolve(this):$.ajax({method:"GET",url:this._getUrl("profile"),success:b}),a.promise()},saveProfile:function(a){var b;return b=function(b){return function(){return b.set("profile",a)}}(this),$.ajax({method:"PUT",url:this._getUrl("profile"),data:JSON.stringify(a),success:b})},hasProfilePicture:function(){var a;return this.has("profile_picture")?(a=this.get("profile_picture"),0!==parseInt(a.id)||!_.isUndefined(a.type)):!1},addProduct:function(a){var b;return b=function(a){return function(b,c,d){var e;return 201===d.status?(e=a.get("products"),"undefined"==typeof e&&(e=[]),e=_.union(e,[b]),a.set("products",e)):void 0}}(this),$.ajax({method:"POST",url:this._getUrl("products"),data:"productId="+a,success:b})},getUserProducts:function(){var a,b,c;return a="",void 0!==App.currentUser.get("homeDate")&&""!==App.currentUser.get("homeDate")?a=App.currentUser.get("homeDate"):(b=App.currentUser.get("timezone"),console.log(a=moment().zone(b).format("YYYY-MM-DD")),App.currentUser.set("homeDate",a)),c=function(a){return function(b,c,d){var e,f,g,h;return 200===d.status?(e=b.response,f=b.graph.dates,g=b.graph.param,App.graph=new Backbone.Model,App.currentUser.set("weight",b.weight),App.graph.set("dates",f),App.graph.set("param",g),App.graph.set("reg_date",b.reg_date),App.currentUser.set("today",b.today),h=[],$.each(e,function(a,b){return h.push(parseInt(b.id)),App.useProductColl.add(b)}),a.set("products",h)):void 0}}(this),$.ajax({method:"GET",data:"date="+a,url:this._getUrl("products"),success:c})},getHomeProducts:function(){var a,b,c,d;return b=Marionette.Deferred(),a="",void 0!==App.currentUser.get("homeDate")&&""!==App.currentUser.get("homeDate")?a=App.currentUser.get("homeDate"):(c=App.currentUser.get("timezone"),console.log(a=moment().zone(c).format("YYYY-MM-DD")),App.currentUser.set("homeDate",a)),console.log(a),d=function(){return function(a,c,d){var e,f,g;return e=a.response,f=a.graph.dates,g=a.graph.param,App.graph=new Backbone.Model,App.currentUser.set("weight",a.weight),App.graph.set("dates",f),App.graph.set("param",g),App.graph.set("reg_date",a.reg_date),App.currentUser.set("today",a.today),200===d.status?($.each(e,function(a,b){return App.useProductColl.add(b)}),b.resolve(a)):void 0}}(this),$.ajax({method:"GET",data:"date="+a,url:""+APIURL+"/records/"+App.currentUser.get("ID"),success:d}),b.promise()}}),Ajency.HTTPRequestFailView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="Requested page not Found",b}(Marionette.ItemView),Ajency.HTTPRequestCtrl=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(){return this.show(new Ajency.HTTPRequestFailView)},b}(Marionette.RegionController);var XoomaAppRootView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};XoomaAppRootView=function(a){function b(){return this._successHandler=__bind(this._successHandler,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="#xooma-app-template",b.prototype.ui={ul:".list-inline",link:".link",logolink:".logo_link"},b.prototype.behaviors={ActiveLink:{behaviorClass:Ajency.ActiveLinkBehavior}},b.prototype.events={"click a.linkhref":function(a){return a.preventDefault()},"click @ui.logolink":function(a){var b;return a.preventDefault(),b="#"+window.location.hash.split("#")[1],App.navigate(b,!0)},"click nav#menu >li.logout-button":function(a){return console.log("aaaaaaaaaa"),a.preventDefault()}},b.prototype.serializeData=function(){var a;return a=b.__super__.serializeData.call(this),a.display_name=App.currentUser.get("display_name"),a.user_email=App.currentUser.get("user_email"),a},b.prototype._successHandler=function(){return App.currentUser.logout()},b.prototype.onShow=function(){var a;return""===window.location.hash&&void 0===App.currentUser.get("ID")?(App.currentUser.set({}),this.ui.link.hide(),$(".user-data").hide(),App.navigate("#login",{replace:!0,trigger:!0})):""===window.location.hash&&void 0!==App.currentUser.get("ID")&&"/home"===a?App.navigate("#home",{replace:!0,trigger:!0}):""===window.location.hash&&void 0!==App.currentUser.get("ID")&&"/home"!==a&&App.navigate("#"+App.currentUser.get("state"),{replace:!0,trigger:!0}),$("nav#menu").mmenu({onClick:{close:!0,preventDefault:!1,setSelected:!0}}),$(".logout-button").on("click",function(a){return a.preventDefault(),$.ajax({method:"GET",url:""+APIURL+"/logout",success:b.prototype._successHandler})}),console.log(a=App.currentUser.get("state")),"/home"!==a?this.ui.link.hide():$(".link").show(),this.currentUserRegion.show(new Ajency.CurrentUserView({model:App.currentUser}))},b}(Marionette.LayoutView),App.XoomaCtrl=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(){return this.show(new XoomaAppRootView)},b.prototype.getLLoadingView=function(){return new Loading},b}(Ajency.RegionController);var ProfileCtrlView,__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};App.state("profile",{url:"/profile",parent:"xooma",data:{arule:"SOME:ACCESS;RULES:HERE",trule:"SOME:TRANSITION;RUlES:HERE"}}).state("userPersonalInfo",{url:"/personal-info",parent:"profile"}).state("userMeasurement",{url:"/measurements",parent:"profile"}).state("UserProductList",{url:"/my-products",parent:"profile"}),ProfileCtrlView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.className="animated fadeIn",b.prototype.template="#profile-template",b.prototype.ui={ul:".list-inline"},b.prototype.events={"click @ui.ul li":"preventClick"},b.prototype.initialize=function(a){return null==a&&(a={}),b.__super__.initialize.call(this,a),this.listenTo(App,"state:transition:complete",this.handleMenu)},b.prototype.preventClick=function(a){return console.log($(a.target).closest("li")),$(a.target).closest("li").removeClass("done"),$(a.target).closest("li").addClass("selected"),$(a.target).closest("li").siblings().removeClass("selected")},b.prototype.onShow=function(){return this.handleMenu},b.prototype.handleMenu=function(){var a,b;return b="#"+App.currentUser.get("state"),a="#"+window.location.hash.split("#")[1],b===a?(this.$('a[href="'+b+'"]').parent().addClass("selected"),this.$('a[href="'+b+'"]').parent().unbind(),this.$('a[href="'+b+'"]').parent().find("a").css({cursor:"pointer"}),this.$('a[href="'+b+'"]').parent().nextAll().bind("click",this.disableEvent),this.$('a[href="'+b+'"]').parent().nextAll().find("a").css({cursor:"default"}),this.$('a[href="'+b+'"]').parent().prevAll().unbind(),this.$('a[href="'+b+'"]').parent().prevAll().find("a").css({cursor:"pointer"}),this.$('a[href="'+b+'"]').parent().prevAll().removeClass("selected"),this.$('a[href="'+b+'"]').parent().prevAll().addClass("done")):"#/home"===b&&b!==a?($('a[href="'+a+'"]').parent().addClass("selected"),$('a[href="'+a+'"]').parent().prevAll().addClass("done"),$('a[href="'+a+'"]').parent().nextAll().addClass("done")):"#/home"!==b&&b!==a?(this.$('a[href="'+b+'"]').parent().prevAll().find("a").css({cursor:"pointer"}),this.$('a[href="'+b+'"]').parent().prevAll().removeClass("selected"),this.$('a[href="'+b+'"]').parent().prevAll().addClass("done"),this.$('a[href="'+b+'"]').parent().nextAll().bind("click",this.disableEvent),this.$('a[href="'+b+'"]').parent().nextAll().find("a").css({cursor:"default"}),this.$('a[href="'+a+'"]').parent().addClass("selected"),this.$('a[href="'+a+'"]').parent().removeClass("done"),this.$('a[href="'+a+'"]').parent().unbind(),this.$('a[href="'+a+'"]').parent().find("a").css({cursor:"pointer"}),this.$('a[href="'+b+'"]').parent().find("a").css({cursor:"default"}),this.$('a[href="'+b+'"]').parent().bind("click",this.disableEvent)):void 0},b.prototype.disableEvent=function(a){return a.preventDefault(),!1},b}(Marionette.LayoutView),App.ProfileCtrl=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(){return this.show(new ProfileCtrlView)},b}(Marionette.RegionController);var ProfilePersonalInfoView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};ProfilePersonalInfoView=function(a){function b(){return this.errorHandler=__bind(this.errorHandler,this),this.successHandler=__bind(this.successHandler,this),this.onFormSubmit=__bind(this.onFormSubmit,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.className="animated fadeIn",b.prototype.template="#profile-personal-info-template",b.prototype.behaviors={FormBehavior:{behaviorClass:Ajency.FormBehavior}},b.prototype.ui={form:".update_user_details",responseMessage:".aj-response-message",dateElement:'input[name="profile[birth_date]"]',xooma_member_id:".xooma_member_id",timezone:'input[name="profile[timezone]"]'},b.prototype.modelEvents={"change:profile_picture":"render"},b.prototype.initialize=function(){return this.listenTo(App,"fb:status:connected",function(){return App.currentUser.hasProfilePicture()?void 0:App.currentUser.getFacebookPicture()})},b.prototype.onRender=function(){return Backbone.Syphon.deserialize(this,this.model.toJSON()),window.isWebView()?void 0:$("#birth_date").datepicker({dateFormat:"yy-mm-dd",changeYear:!0,changeMonth:!0,maxDate:new Date})},b.prototype.onShow=function(){var a;return App.trigger("cordova:hide:splash:screen"),window.isWebView()||$("#birth_date").datepicker({dateFormat:"yy-mm-dd",changeYear:!0,changeMonth:!0,maxDate:new Date}),a=App.currentUser.get("state"),"/home"===a&&($(".measurements_update").removeClass("hidden"),$("#profile").parent().removeClass("done"),$("#profile").parent().addClass("selected"),$("#profile").parent().siblings().removeClass("selected"),$("#profile").parent().nextAll().addClass("done")),null===App.currentUser.get("timezone")?$('#timezone option[value="'+$("#timezone").val()+'"]').prop("selected",!0):void 0},b.prototype.onFormSubmit=function(a){return this.model.saveProfile(a.profile).done(this.successHandler).fail(this.errorHandler)},b.prototype.successHandler=function(a,b,c){var d;return d=App.currentUser.get("state"),404===c.status?(window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Data couldn't be saved due to some error!"),$("html, body").animate({scrollTop:0},"slow")):"/home"===d?(window.removeMsg(),App.currentUser.set("profile",a),App.currentUser.set("timezone",a.timezone),this.ui.responseMessage.addClass("alert alert-success").text("Personal Information successfully updated!"),$("html, body").animate({scrollTop:0},"slow")):(App.currentUser.set("profile",a),App.currentUser.set("timezone",a.timezone),App.currentUser.set("state","/profile/measurements"),App.navigate("#"+App.currentUser.get("state"),!0))},b.prototype.errorHandler=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Data couldn't be saved due to some error!"),$("html, body").animate({scrollTop:0},"slow")},b}(Marionette.ItemView),App.UserPersonalInfoCtrl=function(a){function b(){return this.errorHandler=__bind(this.errorHandler,this),this._showView=__bind(this._showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(){return this.show(this.parent().parent().getLLoadingView()),App.currentUser.getProfile().done(this._showView).fail(this.errorHandler)},b.prototype._showView=function(a){return this.show(new ProfilePersonalInfoView({model:a}))},b.prototype.errorHandler=function(){return this.region=new Marionette.Region({el:"#404-template"}),new Ajency.HTTPRequestCtrl({region:this.region})},b}(Ajency.RegionController);var ProfileMeasurementsView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};ProfileMeasurementsView=function(a){function b(){return this.valueOutput=__bind(this.valueOutput,this),this.errorHandler=__bind(this.errorHandler,this),this.successHandler=__bind(this.successHandler,this),this.onFormSubmit=__bind(this.onFormSubmit,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="#profile-measurements-template",b.prototype.className="animated fadeIn",b.prototype.ui={form:"#add_measurements",rangeSliders:"[data-rangeslider]",responseMessage:".aj-response-message",link:".link",inpt_el:".inpt_el",update:".update"},b.prototype.behaviors={FormBehavior:{behaviorClass:Ajency.FormBehavior}},b.prototype.initialize=function(){return $(document).on("keyup",_.bind(this.keyup,this)),$(document).on("keypress",_.bind(this.keydown,this))},b.prototype.events={"change @ui.rangeSliders":function(a){return this.valueOutput(a.currentTarget)},"change #height":function(a){var b,c,d,e;return console.log(e=$(a.target).val().split(".")),1===e.length&&e.push(0),$(".heightcms").text(e[0]+"'"+e[1]+'"'),c=30.48*parseFloat(e[0]),d=2.54*parseFloat(e[1]),b=parseFloat(c)+parseFloat(d),$(".convertheight").text(b.toFixed(2)+" Cms")},"change #weight":function(a){var b,c,d;return c=$(a.target).val(),b=.4535,d=parseFloat(b)*parseFloat(c),$(".convertweight").text(d.toFixed(2)+" Kgs"),$(".weightcms").text($(a.target).val())}},b.prototype.keydown=function(a){var b;return 46===a.charCode&&(b=$(a.target).val().split(".").length,parseInt(b)>=2)?!1:a.charCode>=48&&a.charCode<=57||46===a.charCode},b.prototype.keyup=function(a){return this.measurements[a.target.id]=$("#"+a.target.id).val()},b.prototype.onShow=function(){var a,b,c,d,e,f,g,h;for(e=document.getElementById("weight"),e.options.length=0,c=30;500>=c;)e.options.add(new Option(c,c)),c++;return void 0!==App.currentUser.get("measurements")&&(b=App.currentUser.get("measurements").height,h=App.currentUser.get("measurements").weight,$('#height option[value="'+b+'"]').prop("selected",!0),$('#weight option[value="'+h+'"]').prop("selected",!0),$("#height").trigger("change"),$("#weight").trigger("change")),App.trigger("cordova:hide:splash:screen"),g=App.currentUser.get("timezone"),$("#date_field").val(moment().zone(g).format("YYYY-MM-DD")),$("#update").val("TODAY"),a=moment(App.currentUser.get("user_registered")).format("YYYY-MM-DD"),$("#update").datepicker({dateFormat:"yy-mm-dd",changeYear:!0,changeMonth:!0,maxDate:new Date,minDate:new Date(a),onSelect:function(a){return $("#date_field").val(a)}}),this.ui.rangeSliders.each(function(a){return function(b,c){return a.valueOutput(c)}}(this)),this.ui.rangeSliders.rangeslider({polyfill:!1}),this.measurements={arm:"",chest:"",neck:"",waist:"",abdomen:"",midcalf:"",thigh:"",hips:""},console.log(App.currentUser.get("measurements")),void 0!==App.currentUser.get("measurements")&&(d=App.currentUser.get("measurements"),this.measurements.arm=d.arm,this.measurements.neck=d.neck,this.measurements.waist=d.waist,this.measurements.abdomen=d.abdomen,this.measurements.midcalf=d.midcalf,this.measurements.thigh=d.thigh,this.measurements.hips=d.hips),console.log(this.measurements),f=App.currentUser.get("state"),"/home"===f?($(".measurements_update").removeClass("hidden"),$("#measurement").parent().removeClass("done"),$("#measurement").parent().addClass("selected"),$("#measurement").parent().siblings().removeClass("selected"),$("#measurement").parent().prevAll().addClass("done"),$("#measurement").parent().nextAll().addClass("done")):void 0},b.prototype.onFormSubmit=function(){var a,b;return a=0,$.each(this.measurements,function(b,c){$.isNumeric(c)||""===c||"date"===b||(a++,window.removeMsg(),$(".aj-response-message").addClass("alert alert-danger").text("Data entered in tooltips is not in the proper format!"),$("html, body").animate({scrollTop:0},"slow"))}),0===a?(this.measurements.weight=$("#weight").val(),this.measurements.height=$("#height").val(),this.measurements.date=$("#date_field").val(),b=this.measurements,this.model.saveMeasurements(b).done(this.successHandler).fail(this.errorHandler)):void 0},b.prototype.successHandler=function(a,b,c){var d;return 404===c.status?(window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Data couldn't be saved due to some error!"),$("html, body").animate({scrollTop:0},"slow")):(d=App.currentUser.get("state"),"/home"===d?(window.removeMsg(),this.ui.responseMessage.addClass("alert alert-success").text("Measurements successfully updated!"),$("html, body").animate({scrollTop:0},"slow")):(App.currentUser.set("state","/profile/my-products"),App.navigate("#"+App.currentUser.get("state"),!0)))
},b.prototype.errorHandler=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Data couldn't be saved due to some error!"),$("html, body").animate({scrollTop:0},"slow")},b.prototype.valueOutput=function(a){var b,c,d,e,f,g,h;return"height"===a.id?(g=$(a).val().split("."),1===g.length&&g.push(0),$(".heightcms").text(g[0]+"'"+g[1]+'"'),c=30.48*parseFloat(g[0]),d=2.54*parseFloat(g[1]),b=parseFloat(c)+parseFloat(d),$(".convertheight").text(b.toFixed(2)+" Cms")):(f=$(a).val(),e=.4535,h=parseFloat(e)*parseFloat(f),$(".convertweight").text(h.toFixed(2)+" Kgs"),$(".weightcms").text($(a).val()))},b}(Marionette.ItemView),App.UserMeasurementCtrl=function(a){function b(){return this.successHandler=__bind(this.successHandler,this),this._showView=__bind(this._showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(){var a;return this.show(this.parent().parent().getLLoadingView()),a=this._get_measurement_details(),a.done(this._showView).fail(this.errorHandler)},b.prototype._showView=function(){return this.show(new ProfileMeasurementsView({model:App.currentUser}))},b.prototype._get_measurement_details=function(){return $.ajax({method:"GET",url:""+_SITEURL+"/wp-json/users/"+App.currentUser.get("ID")+"/measurements",success:this.successHandler})},b.prototype.errorHandler=function(){return this.region=new Marionette.Region({el:"#nofound-template"}),new Ajency.HTTPRequestCtrl({region:this.region})},b.prototype.successHandler=function(a){var b;return App.currentUser.set("measurements",a.response),b=Marionette.Deferred(),b.resolve(!0),b.promise()},b}(Ajency.RegionController);var ProductCollection,ProductModel,UserProductCollection,UserProductModel,__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};ProductModel=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.defaults=function(){},b}(Backbone.Model),ProductCollection=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.model=ProductModel,b.prototype.url=function(){return""+APIURL+"/products"},b}(Backbone.Collection),App.productCollection=new ProductCollection,UserProductModel=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.defaults=function(){},b}(Backbone.Model),UserProductCollection=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.model=UserProductModel,b}(Backbone.Collection),App.useProductColl=new UserProductCollection;var AddProductsView,NoProductsChildView,ProductChildView,__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},__bind=function(a,b){return function(){return a.apply(b,arguments)}};App.state("AddProducts",{url:"/products",parent:"xooma"}),ProductChildView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.tagName="li",b.prototype.template='<div class="cbp-vm-image" ><img src="{{image}}"></div> <h3 class="cbp-vm-title">{{name}}</h3> <div class="cbp-vm-details"> {{description}} </div> <a id="{{id}}"  class="cbp-vm-icon cbp-vm-add add-product" href="#/product/{{id}}/edit">Add</a>',b.prototype.ui={addProduct:".add-product"},b.prototype.initialize=function(){return this.$el.prop("id","product"+this.model.get("id"))},b}(Marionette.ItemView),NoProductsChildView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="Awesome. You have added all products. Have fun",b}(Marionette.ItemView),AddProductsView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype["class"]="animated fadeIn",b.prototype.template="#add-product-template",b.prototype.childView=ProductChildView,b.prototype.childViewContainer="ul.products-list",b.prototype.emptyView=NoProductsChildView,b.prototype.events={"click .grid":function(a){return a.preventDefault()}},b.prototype.onShow=function(){return $.getScript(_SITEURL+"/html/html/assets/js/cbpViewModeSwitch.js",function(){})},b}(Marionette.CompositeView),App.AddProductsCtrl=function(a){function b(){return this._showProducts=__bind(this._showProducts,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(a){return null==a&&(a={}),this.show(this.parent().getLLoadingView()),0===App.productCollection.length?App.productCollection.fetch().done(this._showProducts).fail(this.errorHandler):this._showProducts()},b.prototype._showProducts=function(){var a,b,c,d;return d=App.currentUser.get("products"),a=App.productCollection.where({active_value:"1"}),c=[],$.each(a,function(a,b){return-1===$.inArray(parseInt(b.get("id")),d)?c.push(b):void 0}),b=App.productCollection.clone(),b.reset(c),this.show(new AddProductsView({collection:b}))},b}(Ajency.RegionController),App.state("addProducts",{url:"/add-products",parent:"xooma",resolve:function(){return{userModel:App.currentUser}}});var EmptyView,ProductChildView,UserProductListView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};ProductChildView=function(a){function b(){return this.erroraHandler=__bind(this.erroraHandler,this),this.successHandler=__bind(this.successHandler,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.tagName="div",b.prototype.className="panel panel-default",b.prototype.ui={avail:".avail",add:".add",update:".update",remove:".remove",responseMessage:".aj-response-message"},b.prototype.initialize=function(){return this.$el.prop("id","cart"+this.model.get("id"))},b.prototype.template='<div class="panel-body "> <h5 class=" mid-title margin-none"><div> {{name}}</div> <i type="button" class="fa fa-ellipsis-v pull-right dropdown-toggle" data-toggle="dropdown" aria-expanded="false"></i> <ul class="dropdown-menu pull-right" role="menu"> <li class="add hidden"><a href="#/product/{{id}}/edit">Edit product</a></li> <li class="update hidden"><a href="#/inventory/{{id}}/edit">Inventory</a></li> <li class="update hidden"><a href="#/inventory/{{id}}/view">Inventory history</a></li> <li class="divider"></li> <li><a href="#" class="remove hidden">Remove the product</a></li> </ul> </h5> <ul class="list-inline   "> <li class="col-md-7 col-xs-6 col-sm-7 dotted-line"> <ul class="list-inline no-dotted responsive"> {{#servings}} <li> <h3 class="bold margin-none"><div class="cap {{classname}}"></div><span class="badge badge-primary">{{qty}}</span></h3> </li> {{/servings}} </ul> <div class="end-bar"></div> </li> <li class="col-md-1 col-xs-1  col-sm-1 hidden-xs"> <h4>    <i class="fa fa-random text-muted"></i></h4> </li> <li class="col-md-4  col-xs-6  col-sm-4"> <div class="row"> <div class="col-sm-3"> <h3 class="margin-none bold {{newClass}} {{hidden}} avail">{{servingsleft}}</h3></div> <div class="col-sm-9"> <small> <span class="servings_text center-block">{{servings_text}}</span> <i class="fa fa-frown-o {{frown}}"></i> <span class="center-block {{hidden}}">{{containers}} container(s) ({{available}} {{product_type}}(s))</span> </small></div> </div> </li> </ul> </div> <div class="panel-footer"> <i id="bell{{id}}" class="fa fa-bell-slash no-remiander"></i> {{reminder}} </div>',b.prototype.events={"click .remove":function(a){var b,c;return a.preventDefault(),b=parseInt(this.model.get("id")),c=App.currentUser.get("products"),$.ajax({method:"DELETE",url:""+_SITEURL+"/wp-json/trackers/"+App.currentUser.get("ID")+"/products/"+b,success:this.successHandler,error:this.erroraHandler})}},b.prototype.successHandler=function(a,b,c){var d,e,f;return 200!==c.status?(window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Sorry!Couldn't delete the product."),$("html, body").animate({scrollTop:0},"slow")):(e=App.currentUser.get("products"),e=_.without(e,parseInt(a)),App.currentUser.set("products",e),App.useProductColl.remove(parseInt(a)),d=new UserProductListView({collection:App.useProductColl}),f=new Marionette.Region({el:"#xoomaproduct"}),f.show(d),0===parseInt(App.useProductColl.length)?($(".add1").hide(),$(".save_products").hide()):void 0)},b.prototype.erroraHandler=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Sorry!Couldn't delete the product."),$("html, body").animate({scrollTop:0},"slow")},b.prototype.onShow=function(){var a,b,c;return App.trigger("cordova:hide:splash:screen"),c=this.model.get("reminder"),0!==c.length&&($("#bell"+this.model.get("id")).removeClass("fa-bell-slash no-remiander"),$("#bell"+this.model.get("id")).addClass("fa-bell-o element-animation")),a=parseInt(this.model.get("id")),b=App.currentUser.get("products"),parseInt($.inArray(a,b))>-1&&(this.ui.avail.removeClass("hidden"),this.ui.add.removeClass("hidden"),this.ui.update.removeClass("hidden"),this.ui.remove.removeClass("hidden")),$(".responsive").slick({dots:!1,infinite:!1,speed:300,slidesToShow:4,slidesToScroll:4,responsive:{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!1},breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2},breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}})},b.prototype.serializeData=function(){var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;return e=b.__super__.serializeData.call(this),h=this.model.get("qty"),g=this.model.get("product_type"),g=g.toLowerCase(),n=parseInt(this.model.get("settings"))*parseInt(h.length),j=this.model.get("reminder"),s=this.model.get("type"),f=this.model.get("name"),o=this.model.get("timezone"),l=[],k=[],q=0,$.each(h,function(a,b){var c,d;return d=[],c=g+"_default_class","X2O"===f.toUpperCase()&&(c="x2o_default_class"),q+=parseInt(b.qty),l.push({classname:c,qty:b.qty})}),console.log(j),$.each(j,function(a,b){var c,d,e;return console.log(b.time),c=new Date(b.time),e=c.getTime(),d=moment(e).zone(o).format("h:mm A"),k.push(d)}),i=k.join(","),0===parseInt(j.length)&&(i="No Reminder is set"),a=this.model.get("available"),p=this.model.get("total"),d=parseInt(a)/parseInt(p),c=Math.ceil(d),m=Math.round(parseInt(a)*parseInt(h.length)/parseInt(q)),r=parseInt(m)/2,e.servings_text="Servings left",e.hidden="",e.frown="hidden",parseInt(m)<=parseInt(n)&&0!==parseInt(m)?e.newClass="text-danger":0===parseInt(m)?(e.newClass="text-muted",e.servings_text="Serivngs out of stock",e.hidden="hidden",e.frown="hidden"):parseInt(m)<=parseInt(r)&&0!==parseInt(m)?e.newClass="text-warning":parseInt(m)>=parseInt(r)&&0!==parseInt(m)&&(e.newClass="text-success"),e.servings=l,e.reminder=i,e.containers=c,e.servingsleft=parseInt(m),e},b}(Marionette.ItemView),EmptyView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="<div></div>",b.prototype.ui={responseMessage:".aj-response-message"},b.prototype.onShow=function(){return $(".save_products").hide(),$(".aj-response-message").addClass("alert alert-danger").text("Sorry!No products added"),$("html, body").animate({scrollTop:0},"slow")},b}(Marionette.ItemView),UserProductListView=function(a){function b(){return this._errorHandler=__bind(this._errorHandler,this),this._successHandler=__bind(this._successHandler,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype["class"]="animated fadeIn",b.prototype.template="#produts-template",b.prototype.childView=ProductChildView,b.prototype.emptyView=EmptyView,b.prototype.childViewContainer=".userproducts",b.prototype.ui={saveProducts:".save_products",responseMessage:".aj-response-message",add1:".add1"},b.prototype.events={"click @ui.saveProducts":function(){return $.ajax({method:"POST",url:""+APIURL+"/records/"+App.currentUser.get("ID"),success:this._successHandler,error:this._errorHandler})}},b.prototype.onRender=function(){return"/home"===App.currentUser.get("state")&&(this.ui.saveProducts.hide(),$("#product").parent().removeClass("done"),$("#product").parent().addClass("selected"),$("#product").parent().siblings().removeClass("selected"),$("#product").parent().prevAll().addClass("done")),0===parseInt(App.useProductColl.length)||parseInt(App.useProductColl.length)<10?this.ui.add1.hide():void 0},b.prototype._successHandler=function(a,b,c){var d,e;return console.log(c.status),201===c.status?(App.currentUser.set("state","/home"),App.navigate("#/home",!0),d=new XoomaAppRootView,e=new Marionette.Region({el:"#xoomaapptemplate"}),e.show(d)):(window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Sorry!Some error occurred."),$("html, body").animate({scrollTop:0},"slow"))},b.prototype._errorHandler=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Sorry!Some error occurred."),$("html, body").animate({scrollTop:0},"slow")},b}(Marionette.CompositeView),App.UserProductListCtrl=function(a){function b(){return this._showView=__bind(this._showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(){return this.show(this.parent().parent().getLLoadingView()),0===App.useProductColl.length?App.currentUser.getUserProducts().done(this._showView).fail(this.errorHandler):this.show(new UserProductListView({collection:App.useProductColl}))},b.prototype._showView=function(a){var b;return a=a.response,b=new Backbone.Collection(a),this.show(new UserProductListView({collection:b}))},b}(Ajency.RegionController);var HomeLayoutView,HomeOtherProductsView,HomeX2OView,ProductChildView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};App.state("home",{url:"/home",parent:"xooma",sections:{x2o:{ctrl:"HomeX2OCtrl"},"other-products":{ctrl:"HomeOtherProductsCtrl"}}}),HomeLayoutView=function(a){function b(){return this._errorHandler=__bind(this._errorHandler,this),this._successHandler=__bind(this._successHandler,this),this.onFormSubmit=__bind(this.onFormSubmit,this),this._showView=__bind(this._showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="#home-template",b.prototype.behaviors={FormBehavior:{behaviorClass:Ajency.FormBehavior}},b.prototype.ui={time_period:".time_period",start_date:"#start_date",end_date:"#end_date",generate:'input[name="generate"]',form:"#generate_graph",param:'input[name="param"]',history:".history",update:".update",responseMessage:".aj-response-message",param:"#param"},b.prototype.events={"change @ui.param":function(a){var b,c,d,e,f,g,h,i,j;return window.param=$(a.target).val(),""===$(".time_period").val()||"all"===$(".time_period").val()?(f=App.graph.get("reg_date"),this.ui.start_date.val(f)):(d=this.ui.time_period.val(),c=moment().subtract(d,"days"),e=c.format("YYYY-MM-DD"),this.ui.start_date.val(e)),h=App.currentUser.get("timezone"),j=moment().format("YYYY-MM-DD HH:mm:ss"),b=new Date,g=b.getTime(),i=moment(g).zone(h).format("YYYY-MM-DD"),this.ui.end_date.val(i),"bmi"===$(a.target).val()?this.ui.time_period.hide():this.ui.time_period.show()},"click @ui.history":function(a){return a.preventDefault(),App.navigate("#/measurements/"+App.currentUser.get("ID")+"/history",!0)},"click @ui.update":function(a){return a.preventDefault(),App.navigate("#/profile/measurements",!0)},"change @ui.time_period":function(a){var b,c,d,e,f,g,h,i,j;return window.time_period=$(a.target).val(),d=$(a.target).val(),c=moment().subtract(d,"days"),e=c.format("YYYY-MM-DD"),h=App.currentUser.get("timezone"),j=moment().format("YYYY-MM-DD HH:mm:ss"),b=new Date,g=b.getTime(),i=moment(g).zone(h).format("YYYY-MM-DD"),this.ui.start_date.val(e),"all"===d&&(f=App.graph.get("reg_date"),this.ui.start_date.val(f)),this.ui.end_date.val(i)},"click #showHome":function(){return $(".loading").html('Loading data<img src="'+_SITEURL+'/wp-content/themes/twentytwelve/xoomaapp/images/lodaing.GIF" width="70px">'),App.currentUser.getHomeProducts().done(this._showView).fail(this.errorHandler)}},b.prototype._showView=function(a){var b,c,d,e,f,g,h;return $(".loading").html(""),h=a.response,App.useProductColl.reset(h),f=App.useProductColl.clone(),d=f.findWhere({name:"X2O"}),void 0!==d&&"X2O"===d.get("name").toUpperCase()&&(e=d,b=new HomeX2OView({model:e}),g=new Marionette.Region({el:"#x2oregion"}),g.show(b),f.remove(d),f.reset(f.toArray())),c=new HomeOtherProductsView({collection:f}),g=new Marionette.Region({el:"#otherproducts"}),g.show(c)},b.prototype.onFormSubmit=function(a){return $(".loadinggraph").html('Loading data<img src="'+_SITEURL+'/wp-content/themes/twentytwelve/xoomaapp/images/lodaing.GIF" width="70px">'),$.ajax({method:"GET",data:a,url:""+APIURL+"/graphs/"+App.currentUser.get("ID"),success:this._successHandler,error:this._errorHandler})},b.prototype._successHandler=function(a,b,c){var d;return d=_.has(a,"dates"),$(".loadinggraph").html(""),d===!0&&200===c.status?(App.graph.set("dates",a.dates),App.graph.set("param",a.param),this.generateGraph()):d===!1&&200===c.status?this.generateBMIGraph(a):this.showErrorMsg()},b.prototype._errorHandler=function(){return this.showErrorMsg()},b.prototype.showErrorMsg=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Data couldn't be loaded!"),$("html, body").animate({scrollTop:0},"slow")},b.prototype.onShow=function(){var a,b,c,d,e,f,g,h,i,j,k;return $('#param option[value="'+window.param+'"]').prop("selected",!0),$('.time_period option[value="'+window.time_period+'"]').prop("selected",!0),k=moment().format("YYYY-MM-DD"),$("#showHome").hide(),App.trigger("cordova:hide:splash:screen"),j=App.currentUser.get("timezone"),c=moment(App.currentUser.get("today"),"YYYY-MM-DD HH:mm:ss").format("HH:mm:ss"),console.log(g=moment(k+c,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss")),console.log(d=new Date(g)),console.log(a=d.getTime()),b=new Date(a),e=b.getHours(),parseInt(e)<=12?$(".daynightclass").attr("src",_SITEURL+"/wp-content/themes/twentytwelve/images/morning.gif"):$(".daynightclass").attr("src",_SITEURL+"/wp-content/themes/twentytwelve/images/night.gif"),$("#update").val(App.currentUser.get("homeDate")),console.log(i=moment(App.currentUser.get("homeDate")+c,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss")),console.log(h=moment(i).zone(j).format("x")),parseInt(a)===parseInt(h)&&$("#update").val("TODAY"),f=moment(App.currentUser.get("user_registered")).format("YYYY-MM-DD"),$("#update").datepicker({dateFormat:"yy-mm-dd",changeYear:!0,changeMonth:!0,maxDate:new Date,minDate:new Date(f),onSelect:function(b){return $("#showHome").show(),App.currentUser.set("homeDate",b),i=moment(App.currentUser.get("homeDate")+c,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss"),h=moment(i).zone(j).format("x"),parseInt(a)===parseInt(h)?$("#update").val("TODAY"):void 0}}),$(".history").attr("href","#/measurements/"+App.currentUser.get("ID")+"/history"),$(".update").attr("href","#/profile/measurements"),0===parseInt(App.useProductColl.length)&&(window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("No products added by the user!"),$("html, body").animate({scrollTop:0},"slow")),this.generateGraph()},b.prototype.generateBMIGraph=function(a){var b,c,d,e,f,g,h,i,j;return $("#y-axis").text("BMI Ratio"),$("#canvasregion").show(),g=[a.st_date,a.et_date],e=12*parseFloat(a.st_height),c=12*parseFloat(a.et_height),j=parseFloat(e)*parseFloat(e),h=parseFloat(c)*parseFloat(c),d=parseFloat(a.st_weight)/parseFloat(j)*703,d=d.toFixed(2),b=parseFloat(a.et_weight)/parseFloat(h)*703,b=b.toFixed(2),i={labels:g,datasets:[{label:"My Second dataset",fillColor:"#ffffff",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[d,b]},{label:"My First dataset",fillColor:"##63c8ed",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:[24.9,24.9]},{label:"My Second dataset",fillColor:"#ffffff",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[18.5,18.5]},{label:"My Second dataset",fillColor:"#ffffff",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[0,0]}]},f=document.getElementById("canvas").getContext("2d"),window.myLine=new Chart(f).Line(i,{responsive:!0})},b.prototype.generateGraph=function(){var a,b,c,d,e,f;return f="inches",e="Size","weight"===$("#param").val()&&(f="pounds",e="Weight"),$("#y-axis").text(e+"("+f+")"),$("#canvasregion").show(),b=App.graph.get("dates"),d=App.graph.get("param"),0===b.length&&0===d.length?($(".loadinggraph").html("<li>No data found</li>"),$("#canvasregion").hide(),!1):(c={labels:b,datasets:[{label:"My Second dataset",fillColor:"#ffffff",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:d}]},a=document.getElementById("canvas").getContext("2d"),window.myLine=new Chart(a).Line(c,{responsive:!0}))},b}(Marionette.LayoutView),App.HomeCtrl=function(a){function b(){return this.errorHandler=__bind(this.errorHandler,this),this._showView=__bind(this._showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(){var a;return a=App.currentUser.get("state"),"/home"!==a?(window.removeMsg(),$(".aj-response-message").addClass("alert alert-danger").text("Complete your Profile first!"),$("html, body").animate({scrollTop:0},"slow"),!1):0===App.useProductColl.length||App.currentUser.hasChanged("timezone")?(window.param="weight",window.time_period="all",App.currentUser.set("homeDate",""),App.currentUser.getHomeProducts().done(this._showView).fail(this.errorHandler)):this.show(new HomeLayoutView)},b.prototype._showView=function(a){var b,c;return this.show(this.parent().getLLoadingView()),b=a.response,App.useProductColl.reset(b),c=App.currentUser.get("state"),this.show(new HomeLayoutView)},b.prototype.errorHandler=function(){return window.removeMsg(),$(".aj-response-message").addClass("alert alert-danger").text("Data couldn't be loaded!"),$("html, body").animate({scrollTop:0},"slow")},b}(Ajency.RegionController),HomeX2OView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template='<div class="row"> <div class="col-md-4 col-xs-4"></div> </div> <div class="panel panel-default"> <div class="panel-body"> <h5 class=" mid-title margin-none"><div> {{name}}</div> <i type="button" class="fa fa-ellipsis-v pull-right dropdown-toggle" data-toggle="dropdown" aria-expanded="false"></i> <ul class="dropdown-menu pull-right" role="menu"> <li><a href="#/product/{{id}}/history">Consumption History</a></li> </ul> </h5> <div class="row"> <div class="fill-bottle"> <a id="original" href="#/products/{{id}}/bmi/{{dateval}}" > <h6 class="text-center">Hydrate!</h6> <img src="'+_SITEURL+'/wp-content/themes/twentytwelve/images/xooma-bottle.gif"/> <h6 class="text-center texmsg">{{texmsg}}</h6> </a> </div><div id="rays"></div> <div id="canvas-holder"> <canvas id="chart-area" width="500" height="500"/> </div> </div> </div><h6 class="text-primary text-center"><i class="fa fa-clock-o "></i> Last consumed at {{time}}</h6> <br/></div></div>',b.prototype.ui={liquid:".liquid"},b.prototype.events={"click #original":function(a){var b;return b=this.model.get("available"),parseInt(b)<=0?(a.preventDefault(),window.removeMsg(),$(".aj-response-message").addClass("alert alert-danger").text("Product out of stock!"),$("html, body").animate({scrollTop:0},"slow"),!1):!0}},b.prototype.serializeData=function(){var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return g=b.__super__.serializeData.call(this),q="",s=App.currentUser.get("timezone"),j=[],c=0,m="--",g.time=m,d=0,k=0,l=[],u=0,$.each(this.model.get("occurrence"),function(a,c){var e,f,g;return f=_.has(c,"occurrence"),e=_.has(c,"expected"),f!==!0||e!==!0&&e!==!1||(l=b.prototype.getCount(c.meta_value),j.push(l[1])),f===!0&&e===!1&&d++,f===!0&&e===!0?(l=b.prototype.getCount(c.meta_value),k=100*parseFloat(l[0]),g=parseInt(k)/25,u+=g):void 0}),0!==j.length&&(m=_.last(j),f=new Date(m),r=f.getTime(),g.time=moment(r).zone(s).format("ddd, h:mm A"),g.occurr=j.length),console.log(i=4*parseInt(this.model.get("occurrence").length)),console.log(u),h=parseInt(u)/parseInt(i),p=moment(App.currentUser.get("homeDate"),"YYYY-MM-DD").format("YYYY-MM-DD HH:mm:ss"),f=new Date(App.currentUser.get("today")),t=moment().format("YYYY-MM-DD"),e=moment(App.currentUser.get("today"),"YYYY-MM-DD HH:mm:ss").format("HH:mm:ss"),n=moment(t+e,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss"),f=new Date(n),a=f.getTime(),p=moment(App.currentUser.get("homeDate")+e,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss"),o=moment(p).zone(s).format("x"),q="The day has passed by",parseInt(a)===parseInt(o)&&(q=this.generateStatus(d,h)),g.texmsg=q,g.remianing=j.length,g.dateval=App.currentUser.get("homeDate"),g.qty=this.model.get("qty").length,g},b.prototype.generateStatus=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;return o=App.currentUser.get("timezone"),i="",m="",l=[],d=new Date,n=d.getTime(),h=moment(App.currentUser.get("today"),"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD"),console.log(c=moment(App.currentUser.get("today"),"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss")),j=moment(c).format("x"),f=[0,25,50,75,100,"bonus"],g=["0_25","25_50","50_75","75_100"],k=["12AM-11AM","11AM-4PM","4PM-9PM","9PM-12AM"],e=100*b.toFixed(2),parseInt(a)>=1&&(e="bonus"),$.each(k,function(a,b){var c,d,e,f,g,i,k,l,n;return g=b.split("-"),console.log(e=moment(h+g[0],"YYYY-MM-DD hA").format("YYYY-MM-DD HH:mm:ss")),console.log(f=moment(h+g[1],"YYYY-MM-DD hA").format("YYYY-MM-DD HH:mm:ss")),c=new Date(e),l=c.getTime(),d=new Date(f),n=d.getTime(),i=moment(l).zone(o).format("x"),k=moment(n).zone(o).format("x"),parseInt(i)<parseInt(j)&&parseInt(k)>parseInt(j)?m=x2oMessages[b]:void 0}),$.each(f,function(a,b){return b===e?i=x2oMessages[b+"_"+m]:void 0}),$.each(g,function(a,b){var c;return c=b.split("_"),parseInt(c[0])<parseInt(e)&&parseInt(c[1])>parseInt(e)?i=x2oMessages[b+"_"+m]:void 0}),i},b.prototype.onShow=function(){var a,b,c,d,e,f;return e=[],a=0,$.each(this.model.get("occurrence"),function(b,c){var d,f,g;return g=_.has(c,"occurrence"),f=_.has(c,"expected"),g===!0&&f===!0&&(d=c.occurrence,e.push(d)),g===!0&&f===!1?a++:void 0}),b=e.length,f=this.model.get("qty1"),d=this.drawBottle(this.model.get("occurrence")),c=document.getElementById("chart-area").getContext("2d"),window.myDoughnut=new Chart(c).Doughnut(d,{responsive:!0,percentageInnerCutout:80,animateRotate:!1}),this.ui.liquid.each(function(a){return $(a.target).data("origHeight",$(a.target).height()).height(0).animate({height:$(this).data("origHeight")},3e3)})},b.prototype.getCount=function(a){var b,c,d;return b=0,d=[],_.isArray(a)?$.each(a,function(a,c){return _.isArray(c)?$.each(c,function(a,c){return _.isArray(c)?$.each(c,function(a,c){return b+=parseFloat(c.qty),d.push(c.date)}):(b+=parseFloat(c.qty),d.push(c.date))}):(b+=parseFloat(c.qty),d.push(c.date))}):(b+=parseFloat(a.qty),d.push(a.date)),c=_.last(d),[b,c]},b.prototype.get_occurrence=function(a){var c,d,e,f,g,h;return f=_.has(a,"occurrence"),d=_.has(a,"expected"),e=a.meta_value,h=0,c=[],g=0,g=b.prototype.getCount(a.meta_value),void 0===g[1]&&(g[1]=[]),f===!0&&d===!0?(c.color="#6bbfff",c.value=g[0],c.time=g[1]):f===!1&&d===!0?(c.color="#e3e3e3",c.value=g[0],c.time=g[1]):f===!0&&d===!1&&(c.color="#ffaa06",c.value=g[0],c.time=g[1]),c},b.prototype.drawBottle=function(a){var c,d,e,f;return c=new Date,e=-c.getTimezoneOffset(),f=e,null!==App.currentUser.get("timezone")&&(f=App.currentUser.get("timezone")),d=[],$.each(a,function(a,e){var g,h,i,j,k,l;return j=b.prototype.get_occurrence(e),h=parseInt(a)+1,0===j.value&&(i="",j.value=1),0!==j.time.length&&(g=j.time,c=new Date(g),l=c.getTime(),k=moment(l).zone(f).format("h:mm A"),i="Bottle "+h+" consumed(%) at "+k),d.push({value:100*parseFloat(j.value),color:j.color,label:i})}),d},b}(Marionette.ItemView),App.HomeX2OCtrl=function(a){function b(){return this._showView=__bind(this._showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(){return this._showView(App.useProductColl)},b.prototype._showView=function(a){var b,c,d;return d=a.clone(),b=d.findWhere({name:"X2O"}),void 0!==b&&"X2O"===b.get("name").toUpperCase()?(c=b,this.show(new HomeX2OView({model:c}))):void 0},b}(Ajency.RegionController),ProductChildView=function(a){function b(){return this.saveHandler=__bind(this.saveHandler,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.className="panel panel-default",b.prototype.template='<div class="panel-body"> <h5 class=" mid-title margin-none"><div> {{name}}<span>( {{serving_size}}  Serving/ Day )</span></div><i type="button" class="fa fa-ellipsis-v pull-right dropdown-toggle" data-toggle="dropdown" aria-expanded="false"></i> <ul class="dropdown-menu pull-right" role="menu"> <li><a href="#/product/{{id}}/history">Consumption History</a></li> </ul> </h5> <input type="hidden" name="qty{{id}}"  id="qty{{id}}" value="" /> <input type="hidden" name="meta_id{{id}}"  id="meta_id{{id}}" value="" /> <ul class="list-inline dotted-line  text-center row m-t-20 panel-product"> <li class="col-md-8 col-xs-12 col-sm-8"> <ul class="list-inline no-dotted"> {{#no_servings}} {{{servings}}} {{/no_servings}} </ul> </li> <li class="col-md-4 col-xs-12 col-sm-4 mobile-status"> <h5 class="text-center hidden-xs">Status</h5> <i class="fa fa-smile-o"></i> <h6 class="text-center margin-none status">{{texmsg}}</h6> </li> </ul> </div> <div class="panel-footer hidden"><i id="bell{{id}}" class="{{remindermsg}}"></i> Hey {{username}}! {{msg}}</div>',b.prototype.ui={anytime:".anytime"},b.prototype.events={"click #original":function(a){var b;return console.log(b=this.model.get("available")),parseInt(b)<=0?(a.preventDefault(),window.removeMsg(),$(".aj-response-message").addClass("alert alert-danger").text("Product out of stock!"),$("html, body").animate({scrollTop:0},"slow"),!1):!0}},b.prototype.saveHandler=function(a){var b,c,d,e;return this.model.set("occurrence",a.occurrence),d=App.useProductColl.clone(),c=d.findWhere({name:"X2O"}),void 0!==c&&"X2O"===c.get("name").toUpperCase()&&(d.remove(c),d.reset(d.toArray())),b=new HomeOtherProductsView({collection:d}),e=new Marionette.Region({el:"#otherproducts"}),e.show(b)},b.prototype.serializeData=function(){var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;return h=b.__super__.serializeData.call(this),h.occur=0,h.bonus=0,m=[],l=[],c=0,d=0,o=this.model.get("qty"),n=this.model.get("product_type"),n=n.toLowerCase(),v=[],w="",z="",x="",y=[],B=App.currentUser.get("timezone"),g=new Date,A=g.getTime(),y.push(moment().zone(B).format("x")),$.each(this.model.get("occurrence"),function(a,b){return void 0!==o[a]?v.push(b):void 0}),q="",e=0,j=this.model,$.each(v,function(a,c){var f,g,h;return g=_.has(c,"occurrence"),f=_.has(c,"expected"),g===!0&&f===!0?(m.push(c),q=b.prototype.occurredfunc(c,a,j),0!==parseInt(c.meta_value.qty)&&d++):g===!1&&f===!0&&(q=b.prototype.expectedfunc(c,a,e,j),e++),h=q[0],l.push({servings:h.html,schedule:h.schedule_id,meta_id:h.meta_id,qty:h.qty})
}),h.no_servings=l,h.serving_size=v.length,console.log(u=this.checkSkip(v)),D=moment().zone(B).format("x"),C=moment().format("YYYY-MM-DD"),f=moment(App.currentUser.get("today"),"YYYY-MM-DD HH:mm:ss").format("HH:mm:ss"),r=moment(C+f,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss"),g=new Date(r),a=g.getTime(),t=moment(App.currentUser.get("homeDate")+f,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss"),s=moment(t).zone(B).format("x"),w="The day has passed by",0!==u[0].length&&parseInt(a)===parseInt(s)?w=u[1]:0===u[0].length&&parseInt(a)===parseInt(s)&&(i=100*parseFloat(parseInt(d)/parseInt(v.length)),w=this.checkStatus(i)),k="Time set for reminders has already elapsed",0===parseInt(j.get("reminder").length)&&(k="No reminders set"),h.remindermsg="fa fa-bell-slash no-remiander",p=_.last(m),0!==this.model.get("upcoming").length&&$.each(this.model.get("upcoming"),function(a,b){var c,d,e,f,i;return void 0===p?(h.remindermsg="fa fa-bell-o element-animation",f=moment(b.next+B,"HH:mm Z").format("h:mm A"),k="Your next reminder is at "+f,!1):(c=new Date(p),i=c.getTime(),d=moment(i).zone(B).format("x"),g=new Date(b.next),A=g.getTime(),e=moment(A).zone(B).format("x"),parseInt(d)<parseInt(e)?(h.remindermsg="fa fa-bell-o element-animation",f=moment(b.next+B,"HH:mm Z").format("h:mm A"),k="Your next reminder is at "+f,!1):void 0)}),h.texmsg=w,h.username=App.currentUser.get("display_name"),h.msg=k,h},b.prototype.checkSkip=function(a){var b,c;return c=[],$.each(a,function(a,b){var d,e,f;return e=_.has(b,"occurrence"),d=_.has(b,"expected"),e===!0&&d===!0?(f=b.meta_value.qty,0===parseInt(f)?c.push(f):c=[]):void 0}),b="Oops! Not good! Try not to repeat",c.length===a.length&&(b="Aww! Thats bad.."),[c,b]},b.prototype.checkStatus=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;return d=[0,25,50,75,100],e=["25_50","50_75"],i=["12AM-11AM","11AM-4PM","4PM-9PM","9PM-12AM"],j=[],m=App.currentUser.get("timezone"),k="",g="",c=new Date,l=c.getTime(),j.push(moment().zone(m).format("x")),f=moment(App.currentUser.get("today"),"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD"),console.log(b=moment(App.currentUser.get("today"),"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss")),h=moment(b).format("x"),$.each(i,function(a,b){var c,d,e,g,i,j,l,n,o;return i=b.split("-"),e=moment(f+i[0],"YYYY-MM-DD hA").format("YYYY-MM-DD HH:mm:ss"),g=moment(f+i[1],"YYYY-MM-DD hA").format("YYYY-MM-DD HH:mm:ss"),c=new Date(e),n=c.getTime(),d=new Date(g),o=d.getTime(),j=moment(n).zone(m).format("x"),l=moment(o).zone(m).format("x"),parseInt(j)<parseInt(h)&&parseInt(l)>parseInt(h)?k=Messages[b]:void 0}),$.each(d,function(b,c){return parseInt(c)===parseInt(a)?g=Messages[c+"_"+k]:void 0}),$.each(e,function(b,c){var d;return d=c.split("_"),parseInt(d[0])<parseInt(a)&&parseInt(d[1])>parseInt(a)?g=Messages[c+"_"+k]:void 0}),g},b.prototype.expectedfunc=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;return s=[],i=0,h="",f=new Date,w=App.currentUser.get("timezone"),n=d.get("product_type"),n=n.toLowerCase(),o=d.get("qty"),p=d.get("reminder"),e="hidden",u="",t=0,j=parseInt(b)+1,m=d.get("id"),g=App.currentUser.get("homeDate"),x=[0,"Morning Before meal","Morning After meal","Night Before meal","Night After meal"],r="Anytime"===d.get("type")?"Serving "+j:x[o[b].when],0!==parseInt(p.length)&&(e="",u=p[b].time,f=new Date(u),v=f.getTime(),u=moment(v).zone(w).format("h:mm A"),r=u),l=n+"_expected_class",0===parseInt(c)?h+='<li><a href="#/products/'+m+"/consume/"+g+'" id="original"><span class="circle-btn"><img src="'+_SITEURL+'/wp-content/themes/twentytwelve/xoomaapp/images/btn_03.png" width="70px"></span></a> <h6 class="text-center margin-none">Tap to take </h6> <h6 class="text-center text-primary '+e+'">'+u+"</h6></li>":(h+='<li><a > <h3 ><div class="cap '+l+'"></div>'+o[b].qty+"</h3> </a>",h+='<i class="fa fa-clock-o center-block status"></i> <h6 class="text-center text-primary">'+r+"</h6></li>"),o=o[b].qty,$("#qty"+d.get("id")).val(o),q=a.schedule_id,k=0,s.push({html:h,schedule_id:q,qty:o,meta_id:k}),s},b.prototype.occurredfunc=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;return l=[],f=0,o=App.currentUser.get("timezone"),d=new Date(a.meta_value.date),n=d.getTime(),m=moment(n).zone(o).format("h:mm A"),i=c.get("product_type"),i=i.toLowerCase(),j=a.meta_value.qty,0===parseInt(j)&&(m="Skipped"),e="",h=i+"_occurred_class",e+='<li><a><h3><div class="cap '+h+'"></div>'+j+"</h3></a>",e+='<i class="fa fa-check center-block status"></i><h6 class="text-center text-primary">'+m+"</h6></li>",j=a.meta_value.qty,k=a.schedule_id,g=a.meta_id,l.push({html:e,schedule_id:k,qty:j,meta_id:g}),l},b}(Marionette.ItemView),HomeOtherProductsView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="<span></span>",b.prototype.childView=ProductChildView,b}(Marionette.CompositeView),App.HomeOtherProductsCtrl=function(a){function b(){return this._showView=__bind(this._showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(){return this._showView(App.useProductColl)},b.prototype._showView=function(a){var b,c;return c=a.clone(),b=c.findWhere({name:"X2O"}),void 0!==b&&"X2O"===b.get("name").toUpperCase()&&(c.remove(b),c.reset(c.toArray())),this.show(new HomeOtherProductsView({collection:c}))},b}(Ajency.RegionController);var EditProductsView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};App.state("EditProducts",{url:"/product/:id/edit",parent:"xooma"}),EditProductsView=function(a){function b(){return this.valueOutput=__bind(this.valueOutput,this),this.errorSave=__bind(this.errorSave,this),this.successSave=__bind(this.successSave,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="#edit-product-template",b.prototype.ui={schedule:".schedule",servings_diff:'input[name="servings_diff"]',servings_per_day:".servings_per_day",form:"#edit_product",reminder_button:".reminder_button",responseMessage:".aj-response-message",cancel:".cancel",rangeSliders:"[data-rangeslider]",x2o:"x2o",subtract:'input[name="subtract"]'},b.prototype.events={"click .save_another":function(a){return a.preventDefault(),$(a.target).attr("clicked","true"),this.saveEdit()},"keypress @ui.subtract":function(a){return a.charCode>=48&&a.charCode<=57||44===a.charCode},"change @ui.rangeSliders":function(a){return $("#servings_per_day_value").val($(a.target).val()),this.valueOutput(a.currentTarget),this.showReminders()},"click @ui.cancel":function(){return App.navigate("#/profile/my-products",!0)},"click @ui.reminder_button":function(a){var b;return $(this.ui.reminder_button).removeClass("btn-success"),$(a.target).addClass("btn-success"),$("#reminder").val($(a.target).attr("data-reminder")),b='<div class="reminder">'+$(".reminder").first().html()+"</div>",$(".reminder_div").text(""),$(".reminder_div").append(b),$(".input-small").each(function(a,b){return b.name="reminder_time"+a,b.id="reminder_time"+a}),2===parseInt(this.model.get("frequency_value"))&&this.selectSchdule(this.model),this.showReminders()},"click .save":function(a){return a.preventDefault(),$(a.target).attr("clicked","true"),this.saveEdit()},"click @ui.schedule":function(a){return $(this.ui.schedule).removeClass("btn-primary"),$(a.target).addClass("btn-primary"),$("#timeset").val($(a.target).attr("data-time")),"Once"===$(a.target).attr("data-time")?$(".second").hide():$(".second").show(),this.selectSchdule(this.model),this.showReminders()},"click @ui.servings_diff ":function(a){var b,c,d;if($(this.ui.servings_diff).prop("checked")===!0){for($(a.target).val("1"),$("#check").val("1"),d=$(".servings_per_day").val(),b="",c=1;d>=c;)b+='<div class="qtyper">'+$(".qtyper").first().html()+"</div>",c++;return $(".qty_per_servings_div").text(""),$(".qty_per_servings_div").append(b),$(".qty_per_servings").each(function(a,b){return b.name="qty_per_servings"+a,b.id="qty_per_servings"+a})}return $(this.ui.servings_diff).prop("val",0),$("#check").val("0"),b='<div class="qtyper">'+$(".qtyper").first().html()+"</div>",$(".qty_per_servings_div").text(""),$(".qty_per_servings_div").append(b),$(".qty_per_servings").each(function(a,b){return b.name="qty_per_servings"+a,b.id="qty_per_servings"+a})},"change @ui.servings_per_day ":function(a){var b,c,d;return 1===parseInt($(a.target).val())?($(this.ui.servings_diff).prop("disabled",!0),$(this.ui.servings_diff).prop("checked",!1),$(this.ui.servings_diff).prop("val",0),d=$(".servings_per_day").val(),b='<div class="qtyper">'+$(".qtyper").first().html()+"</div>",c='<div class="reminder">'+$(".reminder").first().html()+"</div>",$(".qty_per_servings_div").text(""),$(".reminder_div").text(""),$(".qty_per_servings_div").append(b),$(".reminder_div").append(c),$(".qty_per_servings").each(function(a,b){return b.name="qty_per_servings"+a,b.id="qty_per_servings"+a}),$(".input-small").each(function(a,b){return b.name="reminder_time"+a,b.id="reminder_time"+a})):($(this.ui.servings_diff).prop("disabled",!1),this.showReminders()),this.loadCheckedData(),$(".input-small").timepicker({defaultTime:!1})},"change .no_of_container":function(a){var b;return b=parseInt($(a.target).val())*parseInt(this.model.get("total")),$("#available").val(b),$(".available").text(b)}},b.prototype.saveEdit=function(){var a,b,c,d,e;return c=parseInt(this.model.get("id")),d=App.currentUser.get("products"),$.inArray(c,d)>-1?void this.saveData(this.model):(a=this.checkreminder(),a===!1?(window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Reminders data not saved!"),void $("html, body").animate({scrollTop:0},"slow")):(e=this.ui.subtract.val(),""===e&&(e=0),parseInt($("#available").val())>parseInt(e)?(b=this.ui.form.serialize(),c=this.model.get("id"),$.ajax({method:"POST",url:""+_SITEURL+"/wp-json/trackers/"+App.currentUser.get("ID")+"/products/"+c,data:b,success:this.successSave,error:this.errorSave})):(window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Samples given to the customer should be less than the available size!"),$("html, body").animate({scrollTop:0},"slow"))))},b.prototype.saveData=function(a){var b,c,d;return b=this.checkreminder(),b===!1?(window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Reminders data not saved!"),void $("html, body").animate({scrollTop:0},"slow")):(c=this.ui.form.serialize(),d=a.get("id"),$.ajax({method:"POST",url:""+_SITEURL+"/wp-json/trackers/"+App.currentUser.get("ID")+"/products/"+d,data:c,success:this.successSave,error:this.errorSave}))},b.prototype.checkreminder=function(){var a,b;for(b=$(".servings_per_day").val(),a=0;b>a;){if(""===$("#reminder_time"+a).val()&&1===parseInt($("#reminder").val()))return!1;a++}},b.prototype.loadCheckedData=function(){var a,b,c;if($(this.ui.servings_diff).prop("checked")===!0){for($(this.ui.servings_diff).prop("disabled",!1),c=$(".servings_per_day").val(),a="",b=1;c>=b;)a+='<div class="qtyper">'+$(".qtyper").first().html()+"</div>",b++;return $(".qty_per_servings_div").text(""),$(".qty_per_servings_div").append(a),$(".qty_per_servings").each(function(a,b){return b.name="qty_per_servings"+a,b.id="qty_per_servings"+a}),this.showReminders()}},b.prototype.selectSchdule=function(){return"Once"===$("#timeset").val()?$('.servings_per_day option[value="1"]').prop("selected",!0):$('.servings_per_day option[value="2"]').prop("selected",!0)},b.prototype.showReminders=function(){var a,b,c;if(1===parseInt($("#reminder").val())){for($(".reminder_div").show(),$(this.ui.servings_diff).prop("disabled",!1),$("#reminder_time0").removeAttr("disabled"),c=$(".servings_per_day").val(),""!==$("#servings_per_day_value").val()&&(c=$("#servings_per_day_value").val()),a="",b=1;c>=b;)a+='<div class="reminder">'+$(".reminder").first().html()+"</div>",b++;$(".reminder_div").text(""),$(".reminder_div").append(a),$(".input-small").each(function(a,b){return b.name="reminder_time"+a,b.id="reminder_time"+a})}else $(".reminder_div").hide(),$("#reminder_time0").attr("disabled",!0),a='<div class="reminder">'+$(".reminder").first().html()+"</div>",$("#reminder_time0").attr("disabled",!0),$(".reminder_div").text(""),$(".reminder_div").append(a),$(".input-small").each(function(a,b){return b.name="reminder_time"+a,b.id="reminder_time"+a,b.value=""});return $(".input-small").timepicker({defaultTime:!1})},b.prototype.successSave=function(a,b,c){var d,e,f;return 201===c.status&&(e=parseInt(a[0].id),f=App.currentUser.get("products"),"undefined"==typeof f&&(f=[]),f=_.union(f,[e]),App.currentUser.set("products",_.uniq(f)),d=new UserProductModel,d.set(a[0]),App.useProductColl.add(d,{merge:!0})),$(".save_another").attr("clicked")?App.navigate("#/products",!0):App.navigate("#/profile/my-products",!0)},b.prototype.errorSave=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Data couldn't be saved due to some error!"),$("html, body").animate({scrollTop:0},"slow")},b.prototype.serializeData=function(){var a,c,d,e,f,g,h,i;return a=b.__super__.serializeData.call(this),d=parseInt(this.model.get("id")),i=this.get_weight_bmi(this.model.get("bmi")),a.x2o=Math.ceil(i),a.defaultbmi=Math.ceil(i),e=App.currentUser.get("products"),"asperbmi"===this.model.get("time_set")&&void 0!==this.model.get("qty")&&(f=this.model.get("qty"),h=this.model.get("reminders"),a.defaultbmi=f.length),c=this.model.get("frequency_value"),"Once"===this.model.get("time_set")?(a.anytime="",a.schedule="disabled",a.once="btn-primary",a.scheduleclass=""):(a.anytime="disabled",a.schedule="",a.anytimeclass="",a.twice="btn-primary"),g=this.model.get("reminder_flag"),void 0===g||0===parseInt(g)||"true"===g?(a["default"]="btn-success",a.success=""):(a["default"]="",a.success="btn-success"),a},b.prototype.get_weight_bmi=function(a){var b,c;return c=App.currentUser.get("weight"),b=1,void 0!==a&&$.each(a,function(a,d){var e;return e=d.range.split("<"),parseInt(e[0])<=parseInt(c)&&parseInt(c)<=parseInt(e[1])?b=d.quantity:void 0}),b},b.prototype.onShow=function(){var a,b,c,d,e,f,g;return b=parseInt(this.model.get("id")),c=App.currentUser.get("products"),$("#homeDate").val(App.currentUser.get("homeDate")),this.checkMode(),$(".input-small").timepicker({defaultTime:!1}),$("#timeset").val(this.model.get("time_set")),a=this.model.get("no_of_container"),e=this.model.get("reminder_flag"),$("#reminder").val(e),$('.no_of_container option[value="'+a+'"]').prop("selected",!0),1===parseInt(this.model.get("frequency_value"))&&"asperbmi"!==this.model.get("time_set")?($(".schedule_data").remove(),$(".asperbmi").hide(),$('.servings_per_day option[value="'+this.model.get("time_set")+'"]').prop("selected",!0),1===parseInt(this.model.get("time_set"))&&$(this.ui.servings_diff).prop("disabled",!0),$(this.ui.servings_per_day).trigger("change"),this.showReminders(),this.showAnytimeData(this.model)):2===parseInt(this.model.get("frequency_value"))?($(".anytime").hide(),$(".asperbmi").hide(),$("#check").val("1"),this.selectSchdule(this.model),this.showReminders(),this.showScheduleData(this.model)):(this.ui.rangeSliders.each(function(a){return function(b,c){return a.valueOutput(c)}}(this)),this.ui.rangeSliders.rangeslider({polyfill:!1}),$(".schedule_data").hide(),$(".anytime").hide(),-1===$.inArray(b,c)?(console.log(g=this.get_weight_bmi(this.model.get("bmi"))),f=Math.ceil(g)):(d=this.model.get("qty"),f=d.length),this.showReminders(),this.showAnytimeData(this.model)),-1===$.inArray(b,c)?($(".remove").hide(),$(".reminder_div").hide()):void 0},b.prototype.checkMode=function(){var a,b;return a=parseInt(this.model.get("id")),b=App.currentUser.get("products"),-1===$.inArray(a,b)?($(".save").text("Add"),$(".save_another").removeClass("hidden"),$(".save_another").text("Add & Choose another")):($(".noofcontainer").hide(),$(".view").removeClass("hidden"))},b.prototype.valueOutput=function(a){return $(a).parent().find("output").html($(a).val())},b.prototype.showScheduleData=function(a){var b,c;return b=parseInt(a.get("id")),c=App.currentUser.get("products"),$.inArray(b,c)>-1?this.showEditScheduleData(a):this.showAddScheduleData(a)},b.prototype.showAddScheduleData=function(){var a,b;return a=this.model.get("serving_size").split("|"),b=this.model.get("when").split("|"),$('.qty0 option[value="'+a[0]+'"]').prop("selected",!0),$('.when0 option[value="'+b[0]+'"]').prop("selected",!0),"Once"===this.model.get("time_set")?$(".second").hide():($('.qty1 option[value="'+a[1]+'"]').prop("selected",!0),$('.when1 option[value="'+b[1]+'"]').prop("selected",!0))},b.prototype.showEditScheduleData=function(a){var b,c,d,e,f,g,h;return b=new Date,c=-b.getTimezoneOffset(),h=c,null!==App.currentUser.get("timezone")&&(h=App.currentUser.get("timezone")),d=a.get("qty"),e=a.get("reminders"),$('.qty0 option[value="'+d[0].qty+'"]').prop("selected",!0),$('.when0 option[value="'+d[0].when+'"]').prop("selected",!0),b=new Date(e[0].time),g=b.getTime(),f=moment(g).zone(h).format("h:mm A"),0!==parseInt(this.model.get("reminder_flag"))&&$("#reminder_time0").val(f),"Once"===this.model.get("time_set")?$(".second").hide():($('.qty1 option[value="'+d[1].qty+'"]').prop("selected",!0),$('.when1 option[value="'+d[1].when+'"]').prop("selected",!0),b=new Date(e[1].time),g=b.getTime(),f=moment(g).zone(h).format("h:mm A"),0!==parseInt(this.model.get("reminder_flag"))?$("#reminder_time1").val(f):void 0)},b.prototype.showAnytimeData=function(a){var b,c,d;return b=parseInt(a.get("id")),c=App.currentUser.get("products"),$.inArray(b,c)>-1?this.showServings(a):(d=a.get("serving_size").split("|"),$('.qty_per_servings option[value="'+d[0]+'"]').prop("selected",!0))},b.prototype.showServings=function(a){var b,c,d,e,f;return b=new Date,c=-b.getTimezoneOffset(),f=c,null!==App.currentUser.get("timezone")&&(f=App.currentUser.get("timezone")),d=a.get("qty"),e=a.get("reminders"),1===parseInt(a.get("check"))?($(this.ui.servings_diff).prop("checked",!0),$(this.ui.servings_per_day).trigger("change"),$("#check").val(1),$.each(d,function(a,b){return $("#qty_per_servings"+a+' option[value="'+b.qty+'"]').prop("selected",!0)})):$('#qty_per_servings0 option[value="'+d[0].qty+'"]').prop("selected",!0),0!==parseInt(this.model.get("reminder_flag"))?$.each(e,function(a,c){var d,e;return b=new Date(c.time),e=b.getTime(),d=moment(e).zone(f).format("h:mm A"),$("#reminder_time"+a).val(d)}):void 0},b}(Marionette.ItemView),App.EditProductsCtrl=function(a){function b(){return this.erroraHandler=__bind(this.erroraHandler,this),this.successHandler=__bind(this.successHandler,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(a){var b,c,d,e;return null==a&&(a={}),this.show(this.parent().getLLoadingView()),c=this.getParams(),b=parseInt(c[0]),e=App.currentUser.get("products"),$.inArray(b,e)>-1||0===App.productCollection.length?$.ajax({method:"GET",url:""+_SITEURL+"/wp-json/trackers/"+App.currentUser.get("ID")+"/products/"+b,success:this.successHandler,error:this.erroraHandler}):(d=App.productCollection.where({id:c[0]}),this._showView(d[0]))},b.prototype._showView=function(a){return this.show(new EditProductsView({model:a}))},b.prototype.successHandler=function(a,b,c){var d,e;return 200===c.status?(e=App.productCollection.where({id:a.id}),d=new Backbone.Model(a),this._showView(d)):(this.region=new Marionette.Region({el:"#edit-product-template"}),new Ajency.NothingFoundCtrl({region:this.region}))},b.prototype.erroraHandler=function(){return this.region=new Marionette.Region({el:"#404-template"}),new Ajency.HTTPRequestCtrl({region:this.region})},b}(Ajency.RegionController);var EditInventoryView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};App.state("EditInventory",{url:"/inventory/:id/edit",parent:"xooma"}),EditInventoryView=function(a){function b(){return this.errorSave=__bind(this.errorSave,this),this.successSave=__bind(this.successSave,this),this.valueOutput=__bind(this.valueOutput,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype["class"]="animated fadeIn",b.prototype.template="#update-inventory-template",b.prototype.ui={containers:"#containers",save:".save",subtract:'input[name="subtract"]',responseMessage:".aj-response-message",form:"#inventory",view:".view",container_label:"#container_label",newsum:".newsum",ntotal:".ntotal",ncon:".ncon",nequalto:".nequalto",rangeSliders:"[data-rangeslider]",navail:".navail",nadd:".nadd",nsub:".nsub",finaladd:".finaladd",eqa:".eqa",entry:".entry",record:'input[name="record"]'},b.prototype.events={"click @ui.entry":function(a){return this.ui.entry.removeClass("btn-primary"),$(a.target).removeClass("btn-default"),$(a.target).addClass("btn-primary"),$("#subtract").val($(a.target).val()),this.ui.rangeSliders.val(0),this.ui.rangeSliders.parent().find("output").html(0),this.ui.save.hide(),"adjust"===$(a.target).val()?($(".record_new").hide(),$(".record").hide(),this.adjustValue(),this.ui.containers.val(),$("#slider").removeAttr("disabled"),$(".rangeslider").removeClass("rangeslider--disabled")):($(".record_new").show(),$(".record").show(),this.ui.containers.val(0),$(this.ui.containers).trigger("change"))},"change @ui.rangeSliders":function(a){return this.valueOutput(a.currentTarget),"adjust"===$("#subtract").val()?this.adjustValue():$(this.ui.containers).trigger("change")},"change @ui.containers":function(a){var b,c,d,e,f,g,h;return 0!==parseInt($(a.target).val())?($("#slider").removeAttr("disabled"),$(".rangeslider").removeClass("rangeslider--disabled"),this.ui.save.show()):(this.ui.rangeSliders.val(0),this.ui.rangeSliders.parent().find("output").html($(a.target).val()),$("#slider").attr("disabled",!0),$(".rangeslider").addClass("rangeslider--disabled"),this.ui.save.hide()),b=this.model.get("available"),h=this.model.get("total"),this.ui.ntotal.text(h),d=parseInt(b)/parseInt(h),c=Math.ceil(d),e=parseInt($(a.target).val())+parseInt(c),this.ui.ncon.text($(a.target).val()),g=parseInt($(a.target).val())*parseInt(h),this.ui.nequalto.text(g),this.ui.navail.text(b),this.ui.nadd.text(g),this.ui.rangeSliders.val()<0?($(".sign").text(" - "),f=parseInt(b)+parseInt(g)-parseInt(Math.abs(this.ui.rangeSliders.val()))):($(".sign").text(" + "),f=parseInt(b)+parseInt(g)+parseInt(Math.abs(this.ui.rangeSliders.val()))),this.ui.nsub.text(Math.abs(this.ui.rangeSliders.val())),this.ui.eqa.text(f),this.ui.newsum.show(),this.ui.finaladd.show()},"keypress @ui.subtract":function(a){return a.charCode>=48&&a.charCode<=57||44===a.charCode},"click @ui.save":function(a){var b,c;return a.preventDefault(),b=this.ui.form.serialize(),c=this.model.get("id"),$.ajax({method:"POST",url:""+_SITEURL+"/wp-json/inventory/"+App.currentUser.get("ID")+"/products/"+c,data:b,success:this.successSave,error:this.errorSave})}},b.prototype.serializeData=function(){var a;return a=b.__super__.serializeData.call(this),a.producttype=this.model.get("product_type"),a.product_type=this.model.get("product_type").toLowerCase(),a},b.prototype.adjustValue=function(){var a,b,c;return a=this.model.get("available"),c=this.model.get("total"),this.ui.navail.text(a),0===parseInt(this.ui.rangeSliders.val())&&($(".sign").text(" - "),this.ui.save.hide(),b=parseInt(a)-parseInt(Math.abs(this.ui.rangeSliders.val()))),this.ui.rangeSliders.val()<0?($(".sign").text(" - "),b=parseInt(a)-parseInt(Math.abs(this.ui.rangeSliders.val())),this.ui.save.show()):this.ui.rangeSliders.val()>0&&($(".sign").text(" + "),b=parseInt(a)+parseInt(Math.abs(this.ui.rangeSliders.val())),this.ui.save.show()),this.ui.nsub.text(Math.abs(this.ui.rangeSliders.val())),this.ui.eqa.text(b),this.ui.finaladd.show()},b.prototype.valueOutput=function(a){return $(a).parent().find("output").html($(a).val())},b.prototype.onShow=function(){var a,b,c,d;return this.ui.save.hide(),$("#subtract").val("record"),$("#record").addClass("btn-primary"),this.ui.rangeSliders.each(function(a){return function(b,c){return a.valueOutput(c)}}(this)),this.ui.rangeSliders.rangeslider({polyfill:!1}),this.ui.newsum.hide(),this.ui.finaladd.hide(),a=this.model.get("available"),d=this.model.get("total"),c=parseInt(a)/parseInt(d),b=Math.ceil(c),this.ui.container_label.text(b)},b.prototype.successSave=function(a,b,c){var d;return 201===c.status?(d=new UserProductModel,d.set(a[0]),App.useProductColl.add(d,{merge:!0}),App.navigate("#/profile/my-products",!0)):this.errorMsg()},b.prototype.errorSave=function(){return this.errorMsg()},b.prototype.errorMsg=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Inventory couldn't be updated!"),$("html, body").animate({scrollTop:0},"slow")},b}(Marionette.ItemView),App.EditInventoryCtrl=function(a){function b(){return this._showView=__bind(this._showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(a){var b,c,d,e;return null==a&&(a={}),this.show(this.parent().getLLoadingView()),c=this.getParams(),e=[],console.log(d=App.useProductColl.where({id:parseInt(c[0])})),b=c[0],void 0===d||0===d.length?App.currentUser.getUserProducts().done(this._showView).fail(this.errorHandler):this.show(new EditInventoryView({model:d[0]}))},b.prototype._showView=function(){var a,b;return a=this.getParams(),b=App.useProductColl.where({id:parseInt(a[0])}),this.show(new EditInventoryView({model:b[0]}))},b}(Ajency.RegionController);var InventoryChildView,ViewInventoryView,__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},__bind=function(a,b){return function(){return a.apply(b,arguments)}};App.state("ViewInventory",{url:"/inventory/:id/view",parent:"xooma"}),InventoryChildView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.tagName="li",b.prototype.className=".class",b.prototype.template='<input class="radio" id ="work{{id}}" name="works" type="radio" checked> <div class="relative"> <label class="labels" for="work{{id}}">{{product_type}}</label> <span class="date">{{date}}</span> <span class="circle"></span> </div> <div class="content"> <p> Stock updated(+) : <b>{{stock}}</b><br> Samples to customer(-) :<b>{{sales}}</b><br> Consumed(-) : <b>{{consumption}}</b><br> </p> </div>',b}(Marionette.ItemView),ViewInventoryView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype["class"]="animated fadeIn",b.prototype.template="#view-inventory-template",b.prototype.childView=InventoryChildView,b.prototype.childViewContainer="ul.viewInventory",b.prototype.onShow=function(){var a,b;return a=Marionette.getOption(this,"ID"),b=App.useProductColl.findWhere({id:parseInt(a)}),$(".product_name").text(b.get("name"))},b}(Marionette.CompositeView),App.ViewInventoryCtrl=function(a){function b(){return this.errorHandler=__bind(this.errorHandler,this),this.successHandler=__bind(this.successHandler,this),this._showView=__bind(this._showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(a){var b,c,d,e;return null==a&&(a={}),this.show(this.parent().getLLoadingView()),c=this.getParams(),e=[],d=App.useProductColl.where({id:parseInt(c[0])}),b=c[0],void 0===d||0===d.length?App.currentUser.getUserProducts().done(this._showView).fail(this.errorHandler):this._showHistoryView(d[0])},b.prototype._showView=function(){var a,b;return a=this.getParams(),b=App.useProductColl.where({id:parseInt(a[0])}),this._showHistoryView(b[0])},b.prototype._showHistoryView=function(a){var b;return this.show(this.parent().getLLoadingView()),b=a.get("id"),$.ajax({method:"GET",url:""+_SITEURL+"/wp-json/inventory/"+App.currentUser.get("ID")+"/products/"+b,success:this.successHandler,error:this.errorHandler})},b.prototype.successHandler=function(a,b,c){var d;return 200===c.status?(d=new Backbone.Collection(a.response),this.show(new ViewInventoryView({collection:d,ID:a.ID}))):(window.removeMsg(),$(".aj-response-message").addClass("alert alert-danger").text("Details could not be loaded!"),$("html, body").animate({scrollTop:0},"slow"))},b.prototype.errorHandler=function(){return window.removeMsg(),$(".aj-response-message").addClass("alert alert-danger").text("Details could not be loaded!"),$("html, body").animate({scrollTop:0},"slow")},b}(Ajency.RegionController);var AsperbmiView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};App.state("Asperbmi",{url:"/products/:id/bmi/:date",parent:"xooma"}),AsperbmiView=function(a){function b(){return this.stopProgress=__bind(this.stopProgress,this),this.startProgress=__bind(this.startProgress,this),this.update_occurrences=__bind(this.update_occurrences,this),this.create_occurrences=__bind(this.create_occurrences,this),this.erroraHandler=__bind(this.erroraHandler,this),this.saveHandler=__bind(this.saveHandler,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="#asperbmi-template",b.prototype.ui={responseMessage:".aj-response-message"},b.prototype.events={"click #confirm":function(a){var b,c,d,e,f;return $(".loadingconusme").html('<img src="'+_SITEURL+'/wp-content/themes/twentytwelve/xoomaapp/images/ajax-loader.gif" width="40px">'),a.preventDefault(),c=this.$el.find("#meta_id").val(),e=(this.originalBottleRemaining-this.bottleRemaining)/100,0===e?($(".loadingconusme").html(""),window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("No change in the quantity!"),void $("html, body").animate({scrollTop:0},"slow")):parseInt(this.model.get("available"))<=0?($(".loadingconusme").html(""),window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Produt out of stock!"),void $("html, body").animate({scrollTop:0},"slow")):(d=this.model.get("id"),b=App.currentUser.get("homeDate"),f=moment().format("HH:mm:ss"),$.ajax({method:"POST",data:"meta_id="+c+"&qty="+e+"&date="+b+"&time="+f,url:""+_SITEURL+"/wp-json/intakes/"+App.currentUser.get("ID")+"/products/"+d,success:this.saveHandler,error:this.erroraHandler}))},"click .reset-progress":function(){return this.bottleRemaining=this.originalBottleRemaining,this.bottle.setProgress(this.bottleRemaining)},"touchstart .bottle":"startProgress","mousedown .bottle":"startProgress","touchend .bottle":"stopProgress","mouseup .bottle":"stopProgress","mouseout .bottle":"stopProgress"},b.prototype.saveHandler=function(a,b,c){var d,e,f,g,h,i,j;return $(".loadingconusme").html(""),e=0,201===c.status?(i=_.map(a.occurrence[0].occurrence,function(a){var b,c;return a.meta_id=parseInt(a.meta_id),c=_.has(a,"occurrence"),b=_.has(a,"expected"),c===!0&&b===!1&&e++,a}),console.log(a),this.model.set("occurrence",a.occurrence[0].occurrence),g=new UserProductModel,g.set(a.occurrence[0]),App.useProductColl.add(g,{merge:!0}),this.$el.find("#meta_id").val(a.meta_id),j=new Backbone.Collection(i),g=j.findWhere({meta_id:parseInt(a.meta_id)}),f=j.indexOf(g),f=parseInt(f)+1,d=this.getCount(g.get("meta_value")),this.originalBottleRemaining=this.bottleRemaining,h=this.showMessage(d),parseInt(e)>=1&&$(".bonus").text("(Bonus)"),$(".msg").html(h),1===parseInt(d)&&(d=0,this.create_occurrences(f)),$(".bottlecnt").text(d),window.removeMsg(),this.ui.responseMessage.addClass("alert alert-success").text("Consumption data saved!"),$("html, body").animate({scrollTop:0},"slow")):this.showErrorMsg()
},b.prototype.erroraHandler=function(){return this.showErrorMsg()},b.prototype.showErrorMsg=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Data couldn't be saved!"),$("html, body").animate({scrollTop:0},"slow")},b.prototype.getCount=function(a){var b;return b=0,_.isArray(a)?$.each(a,function(a,c){return _.isArray(c)?$.each(c,function(a,c){return _.isArray(c)?$.each(c,function(a,c){return b+=parseFloat(c.qty)}):b+=parseFloat(c.qty)}):b+=parseFloat(c.qty)}):b+=parseFloat(a.qty),b},b.prototype.serializeData=function(){var a,c,d;return d=b.__super__.serializeData.call(this),a=[],c=0,d.day=moment().format("dddd"),d.today=moment().format("MMMM Do YYYY"),d},b.prototype.onShow=function(){var a;return a=Marionette.getOption(this,"date"),$("#date").val(a),this.generate(this.model.get("occurrence"))},b.prototype.generate=function(a){var b,c,d,e,f;return f=a,b=0,d=0,c=0,console.log(this.model),console.log(this.model.get("occurrence").length),$.each(f,function(a){return function(b,e){var g,h,i;return i=_.has(e,"occurrence"),g=_.has(e,"expected"),h=e.meta_id,c=a.getCount(e.meta_value),i!==!0||g!==!0&&g!==!1||1!==c?i!==!0||g!==!0&&g!==!1||1===c?(a.create_occurrences(b),!1):(a.update_occurrences(e,b,f),!1):(d++,!0)}}(this)),parseInt(this.model.get("occurrence").length)===parseInt(d)?(e="bonus",this.create_occurrences(e)):void 0},b.prototype.create_occurrences=function(a){var b;return console.log(this.model),"bonus"===a&&($(".bonus").text("(Bonus)"),a=parseInt(this.model.get("occurrence").length)),$("#meta_id").val(0),$(".serving").text("Serving "+(parseInt(a)+1)),$(".bottlecnt").text("No Consumption"),b=this.showMessage(0),$(".msg").text(b),this.originalBottleRemaining=100,this.bottleRemaining=100,this.bottle=new EAProgressVertical(this.$el.find(".bottle"),this.bottleRemaining,"empty",1e4,[25,50,75])},b.prototype.update_occurrences=function(a,b,c){var d,e,f,g;return e=0,f=a.meta_value,e=this.getCount(a.meta_value),b+=1,d=0,$.each(c,function(){return function(a,b){var c,e;return e=_.has(b,"occurrence"),c=_.has(b,"expected"),e===!0&&c===!1?d++:void 0}}(this)),parseInt(d)>=1&&(b="bonus",$(".bonus").text("(Bonus)"),b=parseInt(c.length)),$("#add").hide(),$(".serving").text("Serving "+parseInt(b)),$("#meta_id").val(parseInt(a.meta_id)),$(".bottlecnt").text(e),g=this.showMessage(e),$(".msg").html(g),this.bottleRemaining=100-100*e,this.originalBottleRemaining=this.bottleRemaining,this.bottle=new EAProgressVertical(this.$el.find(".bottle"),this.bottleRemaining,"empty",1e4,[25,50,75])},b.prototype.showMessage=function(a){var b,c;return console.log(a),c=[0,.25,.5,.75,1],b="",$.each(c,function(c,d){return parseFloat(a)===parseFloat(d)?console.log(b=Messages[d]):void 0}),b},b.prototype.startProgress=function(){return this.bottle.startProgress()},b.prototype.stopProgress=function(){var a;return a=this.bottle.stopProgress(!0),this.bottle.setProgress(a),this.bottleRemaining=a},b}(Marionette.ItemView),App.AsperbmiCtrl=function(a){function b(){return this.showView=__bind(this.showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(a){var b,c,d,e,f,g,h;return null==a&&(a={}),this.show(this.parent().getLLoadingView()),h=window.location.hash.split("#"),c=h[1].split("/"),d=parseInt(c[2]),b=c[4],f=[],App.useProductColl.each(function(a){return f.push(a)}),g=new Backbone.Collection(f),e=g.where({id:parseInt(d)}),0===parseInt(e.length)?App.currentUser.getHomeProducts().done(this.showView).fail(this.errorHandler):this._showView(e[0],b)},b.prototype.showView=function(){var a,b,c,d,e;return e=window.location.hash.split("#"),b=e[1].split("/"),c=parseInt(b[2]),a=b[4],d=App.useProductColl.where({id:parseInt(c)}),this._showView(d[0],a)},b.prototype._showView=function(a,b){return this.show(new AsperbmiView({model:a,date:b}))},b}(Ajency.RegionController);var ScheduleView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};App.state("Schedule",{url:"/products/:id/consume/:date",parent:"xooma"}),ScheduleView=function(a){function b(){return this.valueOutput=__bind(this.valueOutput,this),this.saveHandler=__bind(this.saveHandler,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="#schedule-template",b.prototype.ui={intake:".intake",update:".update",form:"#consume",scheduleid:'input[name="scheduleid"]',servings:".servings",original:".original",responseMessage:".aj-response-message",cancel:".cancel",rangeSliders:"[data-rangeslider]",consume_time:'input[name="consume_time"]',qty:'input[name="qty"]'},b.prototype.events={"change @ui.rangeSliders":function(a){return this.valueOutput(a.currentTarget)},"click .reset":function(){var a;return a=$("#org_qty").val(),this.ui.rangeSliders.val(parseInt(a)),this.ui.rangeSliders.parent().find("output").html(a),$("#consume_time").val(""),$(".now").text("Now")},"click @ui.servings":function(a){var c,d;return a.preventDefault(),c=$(a.target).parent().attr("data-value"),d=$(a.target).parent().attr("data-qty"),""!==c&&($("#intake").removeClass("intake"),$("#intake").addClass("update"),$("#mydataModal").removeClass("hidden")),b.prototype.update_occurrences(c,d)},"click @ui.original":function(a){var c,d,e;return a.preventDefault(),$("#meta_id").val(0),$("#qty").val(""),$("#intake").addClass("intake"),$("#intake").removeClass("update"),$("#mydataModal").removeClass("hidden"),e=[],d=this.model.get("qty"),$.each(this.model.get("occurrence"),function(a,b){var c,f;return f=_.has(b,"occurrence"),c=_.has(b,"expected"),f===!1&&c===!0&&void 0!==d[a]?e.push(d[a]):void 0}),c=e[0],b.prototype.create_occurrences(c)},"click .intake":function(a){var b,c,d,e,f,g,h;return $(".loadingconusme").html('<img src="'+_SITEURL+'/wp-content/themes/twentytwelve/xoomaapp/images/ajax-loader.gif" width="40px">'),a.preventDefault(),d=$("#meta_id").val(),f=this.ui.qty.val(),b=$("#schduleid").val(),e=this.model.get("id"),c=App.currentUser.get("homeDate"),console.log(g=$("#consume_time").val()),h=moment(g,"HH:mm a").format("HH:mm:ss"),""===g&&(h=moment().format("HH:mm:ss")),$.ajax({method:"POST",data:"meta_id="+d+"&qty="+f+"&date="+c+"&time="+h,url:""+_SITEURL+"/wp-json/intakes/"+App.currentUser.get("ID")+"/products/"+e,success:this.saveHandler,error:this.erroraHandler})},"click #skip":function(a){var b,c,d,e,f,g,h;return a.preventDefault(),$(".loadingconusme").html('<img src="'+_SITEURL+'/wp-content/themes/twentytwelve/xoomaapp/images/ajax-loader.gif" width="40px">'),d=$("#meta_id").val(),f=0,b=$("#schduleid").val(),e=this.model.get("id"),c=App.currentUser.get("homeDate"),g=$("#consume_time").val(),h=moment(g,"HH:mm a").format("HH:mm:ss"),""===g&&(h=moment().format("HH:mm:ss")),$.ajax({method:"POST",data:"meta_id="+d+"&qty="+f+"&date="+c+"&time="+h,url:""+_SITEURL+"/wp-json/intakes/"+App.currentUser.get("ID")+"/products/"+e,success:this.saveHandler,error:this.erroraHandler})}},b.prototype.saveHandler=function(a){var b;return console.log(a),this.model.set("occurrence",a.occurrence[0].occurrence),b=new UserProductModel,b.set(a.occurrence[0]),App.useProductColl.add(b,{merge:!0}),App.navigate("#/home",!0)},b.prototype.onShow=function(){var a,c,d,e,f,g,h,i,j;return i=App.currentUser.get("timezone"),j=moment().format("YYYY-MM-DD HH:mm:ss"),c=new Date,h=c.getTime(),a=[],a.push(moment(h).format("HH")),a.push(moment(h).format("mm")),d=Marionette.getOption(this,"date"),e=this.model.get("occurrence"),g=[],f=this.model.get("qty"),$.each(e,function(a,b){return void 0!==f[a]?g.push(b):void 0}),$.each(g,function(a,c){var d,e;return e=_.has(c,"occurrence"),d=_.has(c,"expected"),e===!1&&d===!0?(console.log(f[a].qty),b.prototype.create_occurrences(f[a].qty),!1):void 0}),$("#date").val(d),$(".input-small").timepicker({defaultTime:"current"}),this.ui.rangeSliders.each(function(a){return function(b,c){return a.valueOutput(c)}}(this)),this.ui.rangeSliders.rangeslider({polyfill:!1})},b.prototype.valueOutput=function(a){return $(a).parent().find("output").html($(a).val())},b.prototype.serializeData=function(){var a,c,d,e,f,g,h,i,j;return console.log(this.model),c=b.__super__.serializeData.call(this),c.day=moment().format("dddd"),c.today=moment().format("MMMM Do YYYY"),h=this.model.get("qty"),f=this.model.get("occurrence"),g=this.model.get("product_type"),g=g.toLowerCase(),c.classname=g+"_default_class",e=[],i=[],a=parseInt(this.model.get("occurrence").length)-parseInt(h.length),$.each(f,function(a,b){return void 0!==h[a]?i.push(b):void 0}),d=this.model,j=[0,"Morning Before meal","Morning After meal","Night Before meal","Night After meal"],$.each(i,function(a,b){var e,f;return f=_.has(b,"occurrence"),e=_.has(b,"expected"),f===!1&&e===!0?(c.serving="Anytime"===d.get("type")?"Serving "+(parseInt(a)+1):j[h[a].when],c.qty=h[a].qty,!1):void 0}),c.product_type=g,c},b.prototype.create_occurrences=function(a){return $("#meta_id").val(0),$("#org_qty").val(a),console.log($("#org_qty"))},b.prototype.update_occurrences=function(a,b){return""===a&&(a=0),$("#meta_id").val(parseInt(a)),$("#qty").val(b)},b}(Marionette.ItemView),App.ScheduleCtrl=function(a){function b(){return this.showView=__bind(this.showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(a){var b,c,d,e,f,g,h;return null==a&&(a={}),h=window.location.hash.split("#"),c=h[1].split("/"),d=parseInt(c[2]),b=c[4],f=[],App.useProductColl.each(function(a){return f.push(a)}),g=new Backbone.Collection(f),e=g.where({id:parseInt(d)}),0===e.length?App.currentUser.getHomeProducts().done(this.showView).fail(this.errorHandler):this._showView(e[0],b)},b.prototype.showView=function(){var a,b,c,d,e;return e=window.location.hash.split("#"),b=e[1].split("/"),c=parseInt(b[2]),a=b[4],d=App.useProductColl.where({id:parseInt(c)}),this._showView(d[0],a)},b.prototype._showView=function(a,b){return this.show(new ScheduleView({model:a,date:b}))},b}(Ajency.RegionController);var ViewProductHistoryView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};App.state("ViewProductHistory",{url:"/product/:id/history",parent:"xooma"}),ViewProductHistoryView=function(a){function b(){return this.getCount=__bind(this.getCount,this),this.errorHandler=__bind(this.errorHandler,this),this.successHandler=__bind(this.successHandler,this),this.loadData=__bind(this.loadData,this),this.showView=__bind(this.showView,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="#view-history-template",b.prototype.ui={responseMessage:".aj-response-message"},b.prototype.events={"click #show":function(){var a;return a=Marionette.getOption(this,"id"),this.loadData(a)},"click .consume":function(a){var b,c,d;return a.preventDefault(),d=Marionette.getOption(this,"id"),d=Marionette.getOption(this,"id"),b=moment($("#picker_inline_fixed").val()).format("YYYY-MM-DD"),""===$("#picker_inline_fixed").val()&&(b=moment().format("YYYY-MM-DD")),c=App.useProductColl.findWhere({id:parseInt(d)}),"X2O"===c.get("name").toUpperCase()?App.navigate("#products/"+d+"/bmi/"+b,!0):App.navigate("#products/"+d+"/consume/"+b,!0)}},b.prototype.onShow=function(){var a,b;return b=Marionette.getOption(this,"id"),a=App.useProductColl.findWhere({id:parseInt(b)}),void 0===a?App.currentUser.getUserProducts().done(this.showView).fail(this.errorHandler):this.loadView()},b.prototype.showView=function(){return this.loadView()},b.prototype.loadView=function(){var a,b,c;return c=Marionette.getOption(this,"id"),a=moment($("#picker_inline_fixed").val()).format("YYYY-MM-DD"),""===$("#picker_inline_fixed").val()&&(a=moment().format("YYYY-MM-DD")),b=App.useProductColl.findWhere({id:parseInt(c)}),"X2O"===b.get("name").toUpperCase()?$(".consume").attr("href","#products/"+c+"/bmi/"+a):$(".consume").attr("href","#products/"+c+"/consume/"+a),this.loadData(c),$("#picker_inline_fixed").datepicker({inline:!0,dateFormat:"yy-mm-dd",changeYear:!0,changeMonth:!0,maxDate:new Date})},b.prototype.loadData=function(a){var b,c;return c=a,b=moment($("#picker_inline_fixed").val()).format("YYYY-MM-DD"),""===$("#picker_inline_fixed").val()&&(b=moment().format("YYYY-MM-DD")),$(".viewHistory").html('<li>Loading data<img src="'+_SITEURL+'/wp-content/themes/twentytwelve/xoomaapp/images/lodaing.GIF" width="70px"></li>'),$.ajax({method:"GET",data:"date="+b,url:""+_SITEURL+"/wp-json/history/"+App.currentUser.get("ID")+"/products/"+c,success:this.successHandler,error:this.errorHandler})},b.prototype.successHandler=function(a,b,c){return 200===c.status?this.showData(a):this.showErrorMsg()},b.prototype.errorHandler=function(){return this.showErrorMsg()},b.prototype.showErrorMsg=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Data couldn't be loaded!"),$("html, body").animate({scrollTop:0},"slow")},b.prototype.showData=function(a){var c,d,e,f,g,h;return d=new Backbone.Collection(a.response),$(".name").text(a.name.toUpperCase()),f="",c=0,e=new Date,g=-e.getTimezoneOffset(),h=g,null!==App.currentUser.get("timezone")&&(h=App.currentUser.get("timezone")),d.each(function(d){var g,i,j,k,l,m,n,o,p;return 0!==d.get("meta_value").length&&"X2O"!==a.name.toUpperCase()?(l=d.get("meta_value"),k=d.get("meta_value"),e=new Date(l.date),p=e.getTime(),n=moment(p).zone(h).format("h:mm A"),o=moment(p).zone(h).format("x"),i=moment(o).fromNow(),m=l.qty,c++,f+='<li class="work'+k+'"><div class="relative"> <label class="labels" class="m-t-20" for="work'+k+'">'+m+' CONSUMED</label> <span class="date"><i class="fa fa-clock-o"></i> '+n+' <small class=""></small></span> <span class="circle"></span> </div><li>'):(j=0,g=b.prototype.getCount(d.get("meta_value")),$.each(g,function(a,b){return j++,e=new Date(b.date),p=e.getTime(),n=moment(p).zone(h).format("h:mm A"),o=moment(p).zone(h).format("x"),i=moment(o).fromNow(),m=b.qty,k=parseInt(d.get("meta_id"))+parseInt(j),c++,f+='<li class="work'+k+'"><div class="relative"> <label class="labels" class="m-t-20" for="work'+k+'">'+m+' CONSUMED</label> <span class="date"><i class="fa fa-clock-o"></i> '+n+' <small class=""></small></span> <span class="circle"></span> </div><li>'}))}),0===c&&(f="<li>No consumption found for the selected date.<li>"),$(".viewHistory").html(f)},b.prototype.getCount=function(a){var b;return b=[],_.isArray(a)?$.each(a,function(a,c){return _.isArray(c)?$.each(c,function(a,c){return _.isArray(c)?$.each(c,function(a,c){return b.push({date:c.date,qty:c.qty})}):b.push({date:c.date,qty:c.qty})}):b.push({date:c.date,qty:c.qty})}):b.push({date:a.date,qty:a.qty}),b},b.prototype.scrollPageTo=function(a){return $("html, body").animate({scrollTop:~~a.offset().top-60},150),$("body").css("overflow","auto")},b}(Marionette.ItemView),App.ViewProductHistoryCtrl=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(a){var b,c;return null==a&&(a={}),this.show(this.parent().getLLoadingView()),b=this.getParams(),c=[],this._showView(b[0])},b.prototype._showView=function(a){return this.show(new ViewProductHistoryView({id:a}))},b}(Ajency.RegionController);var SettingsView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};App.state("Settings",{url:"/settings",parent:"xooma"}),SettingsView=function(a){function b(){return this.successSave=__bind(this.successSave,this),this.successnotiSave=__bind(this.successnotiSave,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="#settings-template",b.prototype.ui={notification:"#notification",emails:"#emails",responseMessage:".aj-response-message"},b.prototype.events={"click @ui.notification":function(a){var b;return $(a.target).prop("checked")===!0?($(a.target).val("1"),$(a.target).prop("checked",!0)):($(a.target).val("0"),$(a.target).prop("checked",!1)),b="notification="+$(a.target).val(),$.ajax({method:"POST",url:""+_SITEURL+"/wp-json/notifications/"+App.currentUser.get("ID"),data:b,success:this.successnotiSave,error:this.errornotiSave})},"click @ui.emails":function(a){var b;return $(a.target).prop("checked")===!0?($(a.target).val("1"),$(a.target).prop("checked",!0)):($(a.target).val("0"),$(a.target).prop("checked",!1)),b="emails="+$(a.target).val(),$.ajax({method:"POST",url:""+_SITEURL+"/wp-json/emails/"+App.currentUser.get("ID"),data:b,success:this.successSave,error:this.errorSave})}},b.prototype.successnotiSave=function(a,b,c){return window.removeMsg(),201===c.status?(App.currentUser.set("notifications",parseInt(a.notifications)),this.ui.responseMessage.addClass("alert alert-success").text("Notifications data saved!"),$("html, body").animate({scrollTop:0},"slow")):this.showErr()},b.prototype.showErr=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Sorry!Data couldn't be saved!"),$("html, body").animate({scrollTop:0},"slow")},b.prototype.successSave=function(a,b,c){return window.removeMsg(),201===c.status?(App.currentUser.set("emails",parseInt(a.emails)),this.ui.responseMessage.addClass("alert alert-success").text("Emails data saved!"),$("html, body").animate({scrollTop:0},"slow")):this.showErr()},b.prototype.onShow=function(){var a,b;return window.isWebView()||$(".notificationclass").hide(),b=App.currentUser.get("notification"),1===parseInt(b)?(this.ui.notification.prop("checked",!0),this.ui.notification.val("1")):(this.ui.notification.prop("checked",!1),this.ui.notification.val("0")),a=App.currentUser.get("emails"),1===parseInt(a)?(this.ui.emails.prop("checked",!0),this.ui.emails.val("1")):(this.ui.emails.prop("checked",!1),this.ui.emails.val("0"))},b}(Marionette.ItemView),App.SettingsCtrl=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(){return this.show(new SettingsView)},b}(Ajency.RegionController);var MeasurementHistoryView,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};App.state("ViewMeasurementHistory",{url:"/measurements/:id/history",parent:"xooma"}),MeasurementHistoryView=function(a){function b(){return this.errorHandler=__bind(this.errorHandler,this),this.successHandler=__bind(this.successHandler,this),b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="#measurement-history-template",b.prototype.ui={responseMessage:".aj-response-message"},b.prototype.events={"click #show":function(){var a;return a=Marionette.getOption(this,"id"),this.loadData(a)}},b.prototype.onShow=function(){var a;return a=Marionette.getOption(this,"id"),this.loadData(a),$("#picker_inline_fixed").datepicker({inline:!0,dateFormat:"yy-mm-dd",changeYear:!0,changeMonth:!0,maxDate:new Date})},b.prototype.loadData=function(a){var b,c;return c=a,b=moment($("#picker_inline_fixed").val()).format("YYYY-MM-DD"),""===$("#picker_inline_fixed").val()&&(b=moment().format("YYYY-MM-DD")),$(".viewHistory").html('<li>Loading data<img src="'+_SITEURL+'/wp-content/themes/twentytwelve/xoomaapp/images/lodaing.GIF" width="70px"></li>'),$.ajax({method:"GET",data:"date="+b,url:""+_SITEURL+"/wp-json/measurements/"+App.currentUser.get("ID")+"/history",success:this.successHandler,error:this.errorHandler})},b.prototype.successHandler=function(a,b,c){return 200===c.status?this.showData(a):this.showErrorMsg()},b.prototype.errorHandler=function(){return this.showErrorMsg()},b.prototype.showErrorMsg=function(){return window.removeMsg(),this.ui.responseMessage.addClass("alert alert-danger").text("Data couldn't be loaded!"),$("html, body").animate({scrollTop:0},"slow")},b.prototype.showData=function(a){var b,c,d;return 0!==a.length?(c=a.response,b=[],$.each(c,function(a){var d;return b[a]="","height"===a&&(d=c[a].split("."),1===d.length&&d.push(0),c[a]=d[0]+"'"+d[1]+'"'),""===c[a]?(c[a]="No data available",b[a]="hidden"):void 0}),d="",d+='<li><span class="circle"></span><span>Height : </span>'+c.height+'<span class="'+b.height+'"> Ft/inches</span>',d+='<li><span class="circle"></span><span>Weight : </span>'+c.weight+'<span class="'+b.weight+'"> lb</span></span>',d+='<li><span class="circle"></span><span>Neck : </span>'+c.neck+'<span class="'+b.neck+'"> inches</span>',d+='<li><span class="circle"></span><span>Chest : </span>'+c.chest+'<span class="'+b.chest+'"> inches</span>',d+='<li><span class="circle"></span><span>Arm : </span>'+c.arm+'<span class="'+b.arm+'"> inches</span>',d+='<li><span class="circle"></span><span>Abdomen : </span>'+c.abdomen+'<span class="'+b.abdomen+'"> inches</span>',d+='<li><span class="circle"></span><span>Waist : </span>'+c.waist+'<span class="'+b.waist+'"> inches</span>',d+='<li><span class="circle"></span><span>Hips : </span>'+c.hips+'<span class="'+b.hips+'"> inches</span>',d+='<li><span class="circle"></span><span>Thigh : </span>'+c.thigh+'<span class="'+b.thigh+'"> inches</span>',d+='<li><span class="circle"></span><span>MidCalf : </span>'+c.midcalf+'<span class="'+b.midcalf+'"> inches</span>'):d="<li><span>No data available.Please go to settings and update your Progress Chart.</span></li>",$(".viewHistory").html(d)},b.prototype.scrollPageTo=function(a){return $("html, body").animate({scrollTop:~~a.offset().top-60},150),$("body").css("overflow","auto")},b}(Marionette.ItemView),App.ViewMeasurementHistoryCtrl=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.initialize=function(a){var b,c;return null==a&&(a={}),this.show(this.parent().getLLoadingView()),b=this.getParams(),c=[],this._showView(b[0])},b.prototype._showView=function(a){return this.show(new MeasurementHistoryView({id:a}))},b}(Ajency.RegionController);var Loading,__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};Loading=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template="<div class='loader'></div>",b}(Marionette.ItemView);var workflow,__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};workflow=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.template='<div class="container"> <div class="row"> <div class="col-md-3"></div> <div class="col-md-6"> <img src="<?php echo get_template_directory_uri(); ?>/images/noaccess.jpg" class="center-block"/> <h4 class="text-center" > You do not have permission to view the page</h4> </div> <div class="col-md-3"></div> </div>',b}(Marionette.ItemView),jQuery(document).ready(function(){return App.state("login").state("xooma",{url:"/"}).state("home",{url:"/home",parent:"xooma",sections:{x2o:{ctrl:"HomeX2OCtrl"},"other-products":{ctrl:"HomeOtherProductsCtrl"}}}),App.onBeforeStart=function(){return App.currentUser.set(window.userData),App.currentUser.isLoggedIn()?void 0:App.currentUser.setNotLoggedInCapabilities()},App.currentUser.on("user:auth:success",function(){return window.isWebView()&&(window.userData=App.currentUser.toJSON()),App.trigger("fb:status:connected"),App.navigate("#"+App.currentUser.get("state"),!0)}),App.currentUser.on("user:logged:out",function(){var a;return a=[],App.useProductColl.reset(a),delete window.userData,App.navigate("#login",!0)}),App.addInitializer(function(){return Backbone.history.start()}),App.on("fb:status:connected",function(){return App.currentUser.hasProfilePicture()?void 0:App.currentUser.getFacebookPicture()}),App.on("cordova:hide:splash:screen",function(){return console.log("triggered")}),App.start()});